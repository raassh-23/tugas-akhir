{
	"name": "Menu_ES",
	"events": [
		{
			"eventType": "include",
			"includeSheet": "Common_ES"
		},
		{
			"eventType": "variable",
			"name": "LEADERBOARD_FILE_TAG",
			"type": "string",
			"initialValue": "leaderboard",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 259937624818626
		},
		{
			"eventType": "variable",
			"name": "USERNAME_TAG",
			"type": "string",
			"initialValue": "username",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 510098358535263
		},
		{
			"eventType": "variable",
			"name": "LEADERBOARD_TWEEN_TAG",
			"type": "string",
			"initialValue": "leaderboard",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 961199557566402
		},
		{
			"eventType": "variable",
			"name": "MAX_LEVEL",
			"type": "number",
			"initialValue": "20",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 775521172807663
		},
		{
			"eventType": "variable",
			"name": "STAR_INDEX",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 703604767859485
		},
		{
			"eventType": "variable",
			"name": "TIME_INDEX",
			"type": "number",
			"initialValue": "1",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 709724633838091
		},
		{
			"eventType": "variable",
			"name": "ACTIONS_INDEX",
			"type": "number",
			"initialValue": "2",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 168817022629085
		},
		{
			"eventType": "variable",
			"name": "CODE_BLOCKS_INDEX",
			"type": "number",
			"initialValue": "3",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 800249008974328
		},
		{
			"eventType": "variable",
			"name": "versionText",
			"type": "string",
			"initialValue": "",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 337356531335739
		},
		{
			"eventType": "variable",
			"name": "firstOpen",
			"type": "boolean",
			"initialValue": "true",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 710439874346238
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 169874173999834
				}
			],
			"actions": [
				{
					"id": "map-function",
					"objectClass": "Functions",
					"sid": 261691035456120,
					"parameters": {
						"name": "CLICKABLE_CLICKED",
						"string": "LayoutName",
						"function": "MenuButtonClicked"
					}
				},
				{
					"callFunction": "showMenuPopUp",
					"sid": 631772526945743,
					"parameters": [
						false
					]
				}
			],
			"sid": 514121468304681,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "UIText",
							"sid": 761341025484329,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"version\""
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 939712208134061,
							"parameters": {
								"variable": "versionText",
								"value": "\"Versi \" & projectversion"
							}
						},
						{
							"id": "set-text",
							"objectClass": "UIText",
							"sid": 297329887240854,
							"parameters": {
								"text": "versionText"
							}
						}
					],
					"sid": 372872872820150
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "UIPanel",
							"sid": 604812891074261,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"leaderboard\""
							}
						}
					],
					"actions": [
						{
							"id": "pin-to-object-properties",
							"objectClass": "LeaderboardContainer",
							"sid": 625954136692870,
							"behaviorType": "Pin",
							"parameters": {
								"pin-to": "UIPanel",
								"x": true,
								"y": true,
								"angle": true,
								"width-type": "no",
								"height-type": "no",
								"z": false
							}
						}
					],
					"sid": 151638449849747
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 161244421954923,
							"parameters": {
								"variable": "firstOpen"
							}
						}
					],
					"actions": [
						{
							"id": "request-project-file",
							"objectClass": "AJAX",
							"sid": 309598415424742,
							"parameters": {
								"tag": "LEADERBOARD_FILE_TAG",
								"file": "leaderboard.html"
							}
						},
						{
							"id": "get-item",
							"objectClass": "LocalStorage",
							"sid": 539761062932380,
							"parameters": {
								"key": "USERNAME_TAG"
							}
						},
						{
							"id": "set-size",
							"objectClass": "LevelScoreData",
							"sid": 892786546348575,
							"parameters": {
								"width": "MAX_LEVEL + 1",
								"height": "4",
								"depth": "1"
							}
						},
						{
							"id": "clear",
							"objectClass": "LevelScoreData",
							"sid": 212965403880515,
							"parameters": {
								"value": "-1"
							}
						},
						{
							"type": "comment",
							"text": "0 is test level"
						},
						{
							"id": "set-at-xy",
							"objectClass": "LevelScoreData",
							"sid": 795221806011971,
							"parameters": {
								"x": "0",
								"y": "STAR_INDEX",
								"value": "0"
							}
						},
						{
							"id": "set-at-xy",
							"objectClass": "LevelScoreData",
							"sid": 999145293165699,
							"parameters": {
								"x": "1",
								"y": "STAR_INDEX",
								"value": "0"
							}
						},
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 368931575847569,
							"parameters": {
								"variable": "firstOpen",
								"value": "false"
							}
						}
					],
					"sid": 284301865572904
				}
			]
		},
		{
			"functionName": "MenuButtonClicked",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": true,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "uid",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 292628880734679
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-unique-id",
					"objectClass": "Button",
					"sid": 297181430576640,
					"parameters": {
						"unique-id": "uid"
					}
				}
			],
			"actions": [],
			"sid": 837331697825729,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Button",
							"sid": 794806346222569,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"play\""
							}
						}
					],
					"actions": [
						{
							"id": "go-to-layout",
							"objectClass": "System",
							"sid": 889211614503247,
							"parameters": {
								"layout": "LevelSelect"
							}
						}
					],
					"sid": 642159795335066
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Button",
							"sid": 838228805905871,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"leaderboard\""
							}
						}
					],
					"actions": [
						{
							"callFunction": "GetLeaderboard",
							"sid": 192332795482254,
							"parameters": [
								"0",
								"1",
								"\"timeMs\"",
								true
							]
						}
					],
					"sid": 887354956605955,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "UIPanel",
									"sid": 433377385777213,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"leaderboard\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "showMenuPopUp",
									"sid": 660840291778966,
									"parameters": [
										true
									]
								},
								{
									"id": "tween-two-properties",
									"objectClass": "UIPanel",
									"sid": 215887952403206,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "LEADERBOARD_TWEEN_TAG",
										"property": "position",
										"end-x": "Self.targetX",
										"end-y": "Self.targetY",
										"time": "Self.duration",
										"ease": "easeoutsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								}
							],
							"sid": 477280879212814
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Button",
							"sid": 790388444942623,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"close-leaderboard\""
							}
						}
					],
					"actions": [],
					"sid": 161128858015456,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "UIPanel",
									"sid": 626612913249267,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"leaderboard\""
									}
								}
							],
							"actions": [
								{
									"id": "tween-two-properties",
									"objectClass": "UIPanel",
									"sid": 949354502966525,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "LEADERBOARD_TWEEN_TAG",
										"property": "position",
										"end-x": "Self.originX",
										"end-y": "Self.originY",
										"time": "Self.duration",
										"ease": "easeinsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								},
								{
									"id": "wait-for-previous-actions",
									"objectClass": "System",
									"sid": 951522858073301
								},
								{
									"callFunction": "showMenuPopUp",
									"sid": 127244468538244,
									"parameters": [
										false
									]
								}
							],
							"sid": 872709766484865
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Button",
							"sid": 563134652099588,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"fullscreen\""
							}
						}
					],
					"actions": [],
					"sid": 355627615425926,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-fullscreen",
									"objectClass": "Browser",
									"sid": 747956081297196
								}
							],
							"actions": [
								{
									"id": "cancel-fullscreen",
									"objectClass": "Browser",
									"sid": 981627936571852
								}
							],
							"sid": 198934454034576
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 846326731926956
								}
							],
							"actions": [
								{
									"id": "request-fullscreen",
									"objectClass": "Browser",
									"sid": 685101916719796,
									"parameters": {
										"mode": "stretch-letterbox-scale",
										"navigation-ui": "hide"
									}
								}
							],
							"sid": 638615781475662
						}
					]
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-update-found-sw",
					"objectClass": "Browser",
					"sid": 974614323339559
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 176154772533270,
					"parameters": {
						"variable": "versionText",
						"value": "\"Versi \" & projectversion & \" (versi baru ditemukan, mendownload versi terbaru...)\""
					}
				},
				{
					"id": "set-text",
					"objectClass": "UIText",
					"sid": 615286623036491,
					"parameters": {
						"text": "versionText"
					}
				}
			],
			"sid": 996447243694099
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-update-ready-sw",
					"objectClass": "Browser",
					"sid": 645186538898867
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 163549626460296,
					"parameters": {
						"variable": "versionText",
						"value": "\"Versi \" & projectversion & \" (versi terbaru telah didownload, silahkan refresh untuk mengupdate!)\""
					}
				},
				{
					"id": "set-text",
					"objectClass": "UIText",
					"sid": 633329428689366,
					"parameters": {
						"text": "versionText"
					}
				}
			],
			"sid": 280770723004987
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-completed",
					"objectClass": "AJAX",
					"sid": 817813528523328,
					"parameters": {
						"tag": "LEADERBOARD_FILE_TAG"
					}
				}
			],
			"actions": [
				{
					"id": "set-content",
					"objectClass": "LeaderboardContainer",
					"sid": 112182310388380,
					"parameters": {
						"content-type": "html",
						"string": "AJAX.LastData",
						"selector": "\"\"",
						"type": "one"
					}
				},
				{
					"id": "wait-for-previous-actions",
					"objectClass": "System",
					"sid": 585919491545236
				},
				{
					"type": "script",
					"script": "parent.postMessage({\n\tname: \"leaderboard-created\",\n});"
				}
			],
			"sid": 284694020062305
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-item-get",
					"objectClass": "LocalStorage",
					"sid": 333435874359539,
					"parameters": {
						"key": "USERNAME_TAG"
					}
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 243731826817877,
					"parameters": {
						"variable": "username",
						"value": "LocalStorage.ItemValue"
					}
				}
			],
			"sid": 230300506924117
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-error",
					"objectClass": "LocalStorage",
					"sid": 515462121456269
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 331006245834303,
					"parameters": {
						"variable": "username",
						"value": "\"\""
					}
				}
			],
			"sid": 939785179824294
		},
		{
			"functionName": "GetLeaderboard",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "leaderboardLevel",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 391729239163127
				},
				{
					"name": "page",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 543199046618738
				},
				{
					"name": "sortBy",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 862276478172325
				},
				{
					"name": "ascending",
					"type": "boolean",
					"initialValue": "false",
					"comment": "",
					"sid": 217061602902734
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"type": "script",
					"script": "const {\n\tleaderboardLevel,\n\tpage,\n\tsortBy,\n\tascending,\n} = localVars;\n\nconst data = await leaderboard.getLeaderboard(\n\tleaderboardLevel,\n\tpage,\n\t5,\n\tsortBy,\n\tascending ? \"asc\" : \"desc\",\n);\n\nparent.postMessage({\n\tname: \"leaderboard-data\",\n\tvalue: data,\n});"
				}
			],
			"sid": 837762995904189
		},
		{
			"functionName": "showMenuPopUp",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "show",
					"type": "boolean",
					"initialValue": "false",
					"comment": "",
					"sid": 420280774309136
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 569086186466447,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 689995376590314,
							"parameters": {
								"variable": "show"
							}
						}
					],
					"actions": [
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 613316935948076,
							"parameters": {
								"layer": "\"MenuPopUp\"",
								"visibility": "visible"
							}
						},
						{
							"id": "set-layer-interactive",
							"objectClass": "System",
							"sid": 738990425540929,
							"parameters": {
								"layer": "\"MenuPopUp\"",
								"interactive": true
							}
						},
						{
							"id": "set-layer-interactive",
							"objectClass": "System",
							"sid": 175701204130954,
							"parameters": {
								"layer": "\"UI\"",
								"interactive": false
							}
						}
					],
					"sid": 994863947509993
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 634834209361200
						}
					],
					"actions": [
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 127238906296846,
							"parameters": {
								"layer": "\"MenuPopUp\"",
								"visibility": "invisible"
							}
						},
						{
							"id": "set-layer-interactive",
							"objectClass": "System",
							"sid": 448294159655380,
							"parameters": {
								"layer": "\"MenuPopUp\"",
								"interactive": false
							}
						},
						{
							"id": "set-layer-interactive",
							"objectClass": "System",
							"sid": 187950487123149,
							"parameters": {
								"layer": "\"UI\"",
								"interactive": true
							}
						}
					],
					"sid": 353318414787076
				}
			]
		}
	],
	"sid": 170200532006030
}