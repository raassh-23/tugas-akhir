{
	"name": "Menu_ES",
	"events": [
		{
			"eventType": "include",
			"includeSheet": "Common_ES"
		},
		{
			"eventType": "variable",
			"name": "LEADERBOARD_FILE_TAG",
			"type": "string",
			"initialValue": "leaderboard",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 259937624818626
		},
		{
			"eventType": "variable",
			"name": "LEADERBOARD_TWEEN_TAG",
			"type": "string",
			"initialValue": "leaderboard",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 961199557566402
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 169874173999834
				}
			],
			"actions": [
				{
					"id": "map-function",
					"objectClass": "Functions",
					"sid": 261691035456120,
					"parameters": {
						"name": "BUTTON_CLICKED",
						"string": "LayoutName",
						"function": "MenuButtonClicked"
					}
				},
				{
					"id": "request-project-file",
					"objectClass": "AJAX",
					"sid": 473803889344871,
					"parameters": {
						"tag": "LEADERBOARD_FILE_TAG",
						"file": "leaderboard.html"
					}
				},
				{
					"callFunction": "showMenuPopUp",
					"sid": 631772526945743,
					"parameters": [
						false
					]
				}
			],
			"sid": 514121468304681,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "UIText",
							"sid": 761341025484329,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"version\""
							}
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "UIText",
							"sid": 201322949142300,
							"parameters": {
								"text": "\"Version \" & projectversion"
							}
						}
					],
					"sid": 372872872820150
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "UIPanel2",
							"sid": 943394536933240,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"leaderboard\""
							}
						}
					],
					"actions": [
						{
							"id": "pin-to-object-properties",
							"objectClass": "LeaderboardContainer",
							"sid": 625954136692870,
							"behaviorType": "Pin",
							"parameters": {
								"pin-to": "UIPanel2",
								"x": true,
								"y": true,
								"angle": true,
								"width-type": "no",
								"height-type": "no",
								"z": false
							}
						}
					],
					"sid": 151638449849747
				}
			]
		},
		{
			"functionName": "MenuButtonClicked",
			"functionCopyPicked": true,
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "uid",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 292628880734679
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-unique-id",
					"objectClass": "Button",
					"sid": 297181430576640,
					"parameters": {
						"unique-id": "uid"
					}
				}
			],
			"actions": [],
			"sid": 837331697825729,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Button",
							"sid": 794806346222569,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"play\""
							}
						}
					],
					"actions": [
						{
							"id": "go-to-layout",
							"objectClass": "System",
							"sid": 768825461490793,
							"parameters": {
								"layout": "TestLevel"
							}
						}
					],
					"sid": 642159795335066
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Button",
							"sid": 838228805905871,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"leaderboard\""
							}
						}
					],
					"actions": [
						{
							"callFunction": "GetLeaderboard",
							"sid": 192332795482254,
							"parameters": [
								"0",
								"1",
								"\"timeMs\"",
								true
							]
						}
					],
					"sid": 887354956605955,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "UIPanel2",
									"sid": 620127108805552,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"leaderboard\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "showMenuPopUp",
									"sid": 660840291778966,
									"parameters": [
										true
									]
								},
								{
									"id": "tween-two-properties",
									"objectClass": "UIPanel2",
									"sid": 215887952403206,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "LEADERBOARD_TWEEN_TAG",
										"property": "position",
										"end-x": "Self.targetX",
										"end-y": "Self.targetY",
										"time": "Self.duration",
										"ease": "easeoutsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								}
							],
							"sid": 477280879212814
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Button",
							"sid": 790388444942623,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"close-leaderboard\""
							}
						}
					],
					"actions": [],
					"sid": 161128858015456,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "UIPanel2",
									"sid": 869106940472748,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"leaderboard\""
									}
								}
							],
							"actions": [
								{
									"id": "tween-two-properties",
									"objectClass": "UIPanel2",
									"sid": 949354502966525,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "LEADERBOARD_TWEEN_TAG",
										"property": "position",
										"end-x": "Self.originX",
										"end-y": "Self.originY",
										"time": "Self.duration",
										"ease": "easeinsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								},
								{
									"id": "wait-for-previous-actions",
									"objectClass": "System",
									"sid": 951522858073301
								},
								{
									"callFunction": "showMenuPopUp",
									"sid": 127244468538244,
									"parameters": [
										false
									]
								}
							],
							"sid": 872709766484865
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Button",
							"sid": 563134652099588,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"fullscreen\""
							}
						}
					],
					"actions": [],
					"sid": 355627615425926,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-fullscreen",
									"objectClass": "Browser",
									"sid": 747956081297196
								}
							],
							"actions": [
								{
									"id": "cancel-fullscreen",
									"objectClass": "Browser",
									"sid": 981627936571852
								}
							],
							"sid": 198934454034576
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 846326731926956
								}
							],
							"actions": [
								{
									"id": "request-fullscreen",
									"objectClass": "Browser",
									"sid": 685101916719796,
									"parameters": {
										"mode": "stretch-letterbox-scale",
										"navigation-ui": "hide"
									}
								}
							],
							"sid": 638615781475662
						}
					]
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-update-found-sw",
					"objectClass": "Browser",
					"sid": 974614323339559
				}
			],
			"actions": [
				{
					"id": "set-text",
					"objectClass": "UIText",
					"sid": 498574082786513,
					"parameters": {
						"text": "\"Version \" & projectversion & \" (new version found, downloading...)\""
					}
				}
			],
			"sid": 996447243694099
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-update-ready-sw",
					"objectClass": "Browser",
					"sid": 645186538898867
				}
			],
			"actions": [
				{
					"id": "set-text",
					"objectClass": "UIText",
					"sid": 985462183177400,
					"parameters": {
						"text": "\"Version \" & projectversion & \" (new version downloaded, refresh to update)\""
					}
				}
			],
			"sid": 280770723004987
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-completed",
					"objectClass": "AJAX",
					"sid": 817813528523328,
					"parameters": {
						"tag": "LEADERBOARD_FILE_TAG"
					}
				}
			],
			"actions": [
				{
					"id": "set-content",
					"objectClass": "LeaderboardContainer",
					"sid": 112182310388380,
					"parameters": {
						"content-type": "html",
						"string": "AJAX.LastData",
						"selector": "\"\"",
						"type": "one"
					}
				},
				{
					"id": "wait-for-previous-actions",
					"objectClass": "System",
					"sid": 585919491545236
				},
				{
					"type": "script",
					"script": "parent.postMessage({\n\tname: \"leaderboard-created\",\n});"
				}
			],
			"sid": 284694020062305
		},
		{
			"functionName": "GetLeaderboard",
			"functionCopyPicked": false,
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "leaderboardLevel",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 391729239163127
				},
				{
					"name": "page",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 543199046618738
				},
				{
					"name": "sortBy",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 862276478172325
				},
				{
					"name": "ascending",
					"type": "boolean",
					"initialValue": "false",
					"comment": "",
					"sid": 217061602902734
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"type": "script",
					"script": "const {\n\tleaderboardLevel,\n\tpage,\n\tsortBy,\n\tascending,\n} = localVars;\n\nconst data = await leaderboard.getLeaderboard(\n\tleaderboardLevel,\n\tpage,\n\t5,\n\tsortBy,\n\tascending ? \"asc\" : \"desc\",\n);\n\nparent.postMessage({\n\tname: \"leaderboard-data\",\n\tvalue: data,\n});"
				}
			],
			"sid": 837762995904189
		},
		{
			"functionName": "showMenuPopUp",
			"functionCopyPicked": false,
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "show",
					"type": "boolean",
					"initialValue": "false",
					"comment": "",
					"sid": 420280774309136
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 569086186466447,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 689995376590314,
							"parameters": {
								"variable": "show"
							}
						}
					],
					"actions": [
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 613316935948076,
							"parameters": {
								"layer": "\"MenuPopUp\"",
								"visibility": "visible"
							}
						},
						{
							"id": "set-layer-interactive",
							"objectClass": "System",
							"sid": 738990425540929,
							"parameters": {
								"layer": "\"MenuPopUp\"",
								"interactive": true
							}
						},
						{
							"id": "set-layer-interactive",
							"objectClass": "System",
							"sid": 175701204130954,
							"parameters": {
								"layer": "\"UI\"",
								"interactive": false
							}
						}
					],
					"sid": 994863947509993
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 634834209361200
						}
					],
					"actions": [
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 127238906296846,
							"parameters": {
								"layer": "\"MenuPopUp\"",
								"visibility": "invisible"
							}
						},
						{
							"id": "set-layer-interactive",
							"objectClass": "System",
							"sid": 448294159655380,
							"parameters": {
								"layer": "\"MenuPopUp\"",
								"interactive": false
							}
						},
						{
							"id": "set-layer-interactive",
							"objectClass": "System",
							"sid": 187950487123149,
							"parameters": {
								"layer": "\"UI\"",
								"interactive": true
							}
						}
					],
					"sid": 353318414787076
				}
			]
		}
	],
	"sid": 170200532006030
}