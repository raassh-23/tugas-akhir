{
	"name": "Game_ES",
	"events": [
		{
			"functionName": "moveUp",
			"functionDescription": "",
			"functionCategory": "Movement",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "simulate-control",
					"objectClass": "Player",
					"sid": 128842228314954,
					"behaviorType": "TileMovement",
					"parameters": {
						"control": "up"
					}
				}
			],
			"sid": 850883863991094
		},
		{
			"functionName": "moveDown",
			"functionDescription": "",
			"functionCategory": "Movement",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "simulate-control",
					"objectClass": "Player",
					"sid": 355315543310329,
					"behaviorType": "TileMovement",
					"parameters": {
						"control": "down"
					}
				}
			],
			"sid": 859947944575473
		},
		{
			"functionName": "moveLeft",
			"functionDescription": "",
			"functionCategory": "Movement",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "simulate-control",
					"objectClass": "Player",
					"sid": 494445518427877,
					"behaviorType": "TileMovement",
					"parameters": {
						"control": "left"
					}
				}
			],
			"sid": 763234002756624
		},
		{
			"functionName": "moveRight",
			"functionDescription": "",
			"functionCategory": "Movement",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "simulate-control",
					"objectClass": "Player",
					"sid": 600549770587757,
					"behaviorType": "TileMovement",
					"parameters": {
						"control": "right"
					}
				}
			],
			"sid": 943941915025808
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-moving-direction",
					"objectClass": "Player",
					"sid": 483849859601033,
					"behaviorType": "TileMovement",
					"parameters": {
						"direction": "up"
					}
				}
			],
			"actions": [
				{
					"id": "set-angle",
					"objectClass": "Player",
					"sid": 785357891954774,
					"parameters": {
						"angle": "270"
					}
				}
			],
			"sid": 775366117957879
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-moving-direction",
					"objectClass": "Player",
					"sid": 805189855583067,
					"behaviorType": "TileMovement",
					"parameters": {
						"direction": "down"
					}
				}
			],
			"actions": [
				{
					"id": "set-angle",
					"objectClass": "Player",
					"sid": 732440032617726,
					"parameters": {
						"angle": "90"
					}
				}
			],
			"sid": 305885243481875
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-moving-direction",
					"objectClass": "Player",
					"sid": 728985671897859,
					"behaviorType": "TileMovement",
					"parameters": {
						"direction": "right"
					}
				}
			],
			"actions": [
				{
					"id": "set-angle",
					"objectClass": "Player",
					"sid": 267781567875838,
					"parameters": {
						"angle": "0"
					}
				}
			],
			"sid": 879797119583756
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-moving-direction",
					"objectClass": "Player",
					"sid": 434526477555396,
					"behaviorType": "TileMovement",
					"parameters": {
						"direction": "left"
					}
				}
			],
			"actions": [
				{
					"id": "set-angle",
					"objectClass": "Player",
					"sid": 716575877126457,
					"parameters": {
						"angle": "180"
					}
				}
			],
			"sid": 508388867323278
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "UI",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "variable",
					"name": "ACTIVE_COMMAND_MARGIN",
					"type": "number",
					"initialValue": "30",
					"comment": "",
					"isStatic": true,
					"isConstant": true,
					"sid": 510190610606722
				},
				{
					"eventType": "variable",
					"name": "isDragging",
					"type": "boolean",
					"initialValue": "false",
					"comment": "",
					"isStatic": true,
					"isConstant": false,
					"sid": 477515768600303
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 633731294598576
						}
					],
					"actions": [
						{
							"id": "set-visible",
							"objectClass": "CommandShadow",
							"sid": 520005156630820,
							"parameters": {
								"visibility": "invisible"
							}
						},
						{
							"callFunction": "saveCommandPosition",
							"sid": 774172830073117
						},
						{
							"callFunction": "setupScrollable",
							"sid": 936613407183803
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Command",
							"sid": 209734349647792,
							"parameters": {
								"instance-variable": "savedWidth",
								"value": "Self.Width"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Command",
							"sid": 982562096148211,
							"parameters": {
								"instance-variable": "savedHeight",
								"value": "Self.Height"
							}
						}
					],
					"sid": 612593316670721
				},
				{
					"functionName": "createNewCommandObject",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "objectTypeName",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"sid": 279397482552838
						},
						{
							"name": "x",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 423610438519916
						},
						{
							"name": "y",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 946925253570329
						},
						{
							"name": "frame",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 693891882739728
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "create-object-by-name",
							"objectClass": "System",
							"sid": 243817164343360,
							"parameters": {
								"object-name": "objectTypeName",
								"layer": "\"UI\"",
								"x": "x",
								"y": "y",
								"create-hierarchy": true,
								"template-name": "\"\""
							}
						}
					],
					"sid": 775124699191080,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-last-created",
									"objectClass": "System",
									"sid": 976808798867642,
									"parameters": {
										"object": "Command"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation-frame",
									"objectClass": "Command",
									"sid": 879192154314816,
									"parameters": {
										"frame-number": "frame"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Command",
									"sid": 556222448193516,
									"parameters": {
										"instance-variable": "savedWidth",
										"value": "Self.Width"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Command",
									"sid": 208615882794399,
									"parameters": {
										"instance-variable": "savedHeight",
										"value": "Self.Height"
									}
								}
							],
							"sid": 130608887142157,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 587496417225185,
											"parameters": {
												"first-value": "Command.ObjectTypeName",
												"comparison": 0,
												"second-value": "MoveCommand.ObjectTypeName"
											}
										}
									],
									"actions": [
										{
											"type": "script",
											"script": "runtime.objects.MoveCommand.getFirstPickedInstance().setDirection();"
										}
									],
									"sid": 789382506262238
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "TODO: fix command not properly shifting, stuttering command"
				},
				{
					"functionName": "PickCommandShadowToShow",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "number",
					"functionCopyPicked": true,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "ScrollablePanel",
							"sid": 954684676304424,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"active-commands\""
							}
						},
						{
							"id": "pick-children",
							"objectClass": "ScrollablePanel",
							"sid": 263812098766436,
							"parameters": {
								"child": "CommandShadow",
								"which": "all"
							}
						},
						{
							"id": "is-overlapping-another-object",
							"objectClass": "CommandShadow",
							"sid": 802694531877950,
							"parameters": {
								"object": "UIPanel"
							}
						}
					],
					"actions": [
						{
							"type": "script",
							"script": "const pickedUid = pickCommandShadowToShow(\n\truntime.objects.Command.getFirstPickedInstance(), \n\truntime.objects.CommandShadow.getPickedInstances()\n);\n\nruntime.setReturnValue(pickedUid);"
						}
					],
					"sid": 789707658009354
				},
				{
					"functionName": "showCommandShadow",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "uid",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 327133150412776
						},
						{
							"name": "width",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 564530522168212
						},
						{
							"name": "height",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 254360325122347
						},
						{
							"name": "level",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 562076130796446
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 298632454467557,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-unique-id",
									"objectClass": "CommandShadow",
									"sid": 813244115363577,
									"parameters": {
										"unique-id": "uid"
									}
								}
							],
							"actions": [
								{
									"id": "set-visible",
									"objectClass": "CommandShadow",
									"sid": 300510244433802,
									"parameters": {
										"visibility": "visible"
									}
								},
								{
									"id": "set-size",
									"objectClass": "CommandShadow",
									"sid": 499428307315630,
									"parameters": {
										"width": "width",
										"height": "height"
									}
								}
							],
							"sid": 998421297469759
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-unique-id",
									"objectClass": "CommandShadow",
									"sid": 938456325680248,
									"parameters": {
										"unique-id": "uid"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-visible",
									"objectClass": "CommandShadow",
									"sid": 754088806768020,
									"parameters": {
										"visibility": "invisible"
									}
								}
							],
							"sid": 203613507481979
						}
					]
				},
				{
					"functionName": "saveCommandPosition",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "is-dragging",
							"objectClass": "Command",
							"sid": 696041845229573,
							"behaviorType": "DragDrop",
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Command",
							"sid": 800911138054229,
							"parameters": {
								"instance-variable": "savedX",
								"value": "Self.X"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Command",
							"sid": 114148214107483,
							"parameters": {
								"instance-variable": "savedY",
								"value": "Self.Y"
							}
						}
					],
					"sid": 383783733648612
				},
				{
					"functionName": "resetActiveCommands",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-visible",
							"objectClass": "CommandShadow",
							"sid": 146230782878140,
							"parameters": {
								"visibility": "invisible"
							}
						}
					],
					"sid": 330238338554199,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "Command",
									"sid": 611127249045276,
									"parameters": {
										"instance-variable": "isActive"
									}
								}
							],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "Command",
									"sid": 836608065403587,
									"parameters": {
										"x": "Self.savedX",
										"y": "Self.savedY"
									}
								}
							],
							"sid": 345125437250631
						}
					]
				},
				{
					"functionName": "shiftActiveCommands",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "x",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 332633950558545
						},
						{
							"name": "deltaWidth",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 918415430987728
						},
						{
							"name": "level",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 575973142895119
						}
					],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "Command",
							"sid": 133769633535903,
							"parameters": {
								"instance-variable": "isActive"
							}
						}
					],
					"actions": [],
					"sid": 124494746489402,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-x",
									"objectClass": "Command",
									"sid": 376196354453658,
									"parameters": {
										"comparison": 5,
										"x-co-ordinate": "x"
									}
								}
							],
							"actions": [
								{
									"id": "set-x",
									"objectClass": "Command",
									"sid": 546309123449295,
									"parameters": {
										"x": "Self.savedX + deltaWidth"
									}
								}
							],
							"sid": 571510037337450
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-x",
									"objectClass": "Command",
									"sid": 692935598000045,
									"parameters": {
										"comparison": 2,
										"x-co-ordinate": "x"
									}
								}
							],
							"actions": [
								{
									"id": "set-x",
									"objectClass": "Command",
									"sid": 668518646486197,
									"parameters": {
										"x": "Self.savedX"
									}
								}
							],
							"sid": 176663665618891
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-touched-object",
							"objectClass": "Touch",
							"sid": 372248058485151,
							"parameters": {
								"object": "CommandButton"
							}
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 805787981559465,
							"parameters": {
								"variable": "isDragging"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"callFunction": "createNewCommandObject",
							"sid": 690629398340701,
							"parameters": [
								"CommandButton.commandName",
								"CommandButton.X",
								"CommandButton.Y",
								"CommandButton.commandFrame"
							]
						}
					],
					"sid": 779430353187203
				},
				{
					"functionName": "pseudoDropCommand",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": true,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"type": "comment",
							"text": "workaround for drop, since it will trigger on drop otherwise"
						},
						{
							"id": "set-enabled",
							"objectClass": "Command",
							"sid": 326194676335327,
							"behaviorType": "DragDrop",
							"parameters": {
								"state": "disabled"
							}
						},
						{
							"id": "set-enabled",
							"objectClass": "Command",
							"sid": 134370549205837,
							"behaviorType": "DragDrop",
							"parameters": {
								"state": "enabled"
							}
						}
					],
					"sid": 379561458314519
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-drag-start",
							"objectClass": "Command",
							"sid": 249464404143076,
							"behaviorType": "DragDrop"
						}
					],
					"actions": [],
					"sid": 811373202969291,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 632175319931117,
									"parameters": {
										"variable": "isDragging"
									}
								}
							],
							"actions": [
								{
									"callFunction": "pseudoDropCommand",
									"sid": 162695499001214
								}
							],
							"sid": 190273193972901
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 941327846399168,
									"parameters": {
										"variable": "isDragging"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 726159588161578,
									"parameters": {
										"variable": "isDragging",
										"value": "true"
									}
								},
								{
									"callFunction": "clampScrollable",
									"sid": 175402015779733
								},
								{
									"type": "comment",
									"text": "first call to saveCommandPosition, just in case the position changed because of scroll"
								},
								{
									"callFunction": "saveCommandPosition",
									"sid": 527987029291519
								}
							],
							"sid": 490257851542919,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "Command",
											"sid": 755668526747739,
											"parameters": {
												"instance-variable": "isActive"
											}
										}
									],
									"actions": [],
									"sid": 617538421159356,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-touching-object",
													"objectClass": "Touch",
													"sid": 794384102401289,
													"parameters": {
														"object": "UIPanel"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "UIPanel",
													"sid": 418521957460006,
													"parameters": {
														"instance-variable": "id",
														"comparison": 0,
														"value": "\"active-commands-panel\""
													}
												}
											],
											"actions": [
												{
													"callFunction": "setCommandInactive",
													"sid": 140504643095793
												},
												{
													"type": "script",
													"script": "removeFromCommands(runtime.objects.Command.getFirstPickedInstance());\nconsole.log(commands);"
												},
												{
													"callFunction": "shiftActiveCommands",
													"sid": 129785811802223,
													"parameters": [
														"Command.X",
														"-Command.Width",
														"0"
													]
												},
												{
													"type": "comment",
													"text": "second call saveCommandPosition, after shifting active position without the dragged command"
												},
												{
													"callFunction": "saveCommandPosition",
													"sid": 195177666138114
												},
												{
													"id": "move-to-top",
													"objectClass": "Command",
													"sid": 558808719136396
												}
											],
											"sid": 610675001549488
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 374909451534768
												}
											],
											"actions": [
												{
													"callFunction": "pseudoDropCommand",
													"sid": 303771269756543
												}
											],
											"sid": 407659452199183
										}
									]
								}
							]
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-dragging",
							"objectClass": "Command",
							"sid": 105475288078458,
							"behaviorType": "DragDrop"
						}
					],
					"actions": [],
					"sid": 601895820222359,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "Command",
									"sid": 449688868599534,
									"parameters": {
										"object": "UIPanel"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "UIPanel",
									"sid": 884605734210130,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"active-commands-panel\""
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "CommandShadow",
									"sid": 416585136568669,
									"parameters": {
										"unique-id": "Functions.PickCommandShadowToShow"
									}
								}
							],
							"actions": [
								{
									"id": "set-size",
									"objectClass": "Command",
									"sid": 315570035117941,
									"parameters": {
										"width": "Self.savedWidth- (Self.savedWidth * CommandShadow.level/6) ",
										"height": "Self.savedHeight- (Self.savedHeight* CommandShadow.level/6) "
									}
								},
								{
									"callFunction": "showCommandShadow",
									"sid": 857372395026833,
									"parameters": [
										"CommandShadow.UID",
										"Command.Width",
										"Command.Height",
										"CommandShadow.level"
									]
								},
								{
									"callFunction": "shiftActiveCommands",
									"sid": 271884108430994,
									"parameters": [
										"CommandShadow.X",
										"Command.Width",
										"CommandShadow.level"
									]
								}
							],
							"sid": 519996175298180
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 334739427962197
								}
							],
							"actions": [
								{
									"callFunction": "resetActiveCommands",
									"sid": 733125477755939
								}
							],
							"sid": 441139817013168
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-drop",
							"objectClass": "Command",
							"sid": 383493508569320,
							"behaviorType": "DragDrop"
						}
					],
					"actions": [
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 383263006390166,
							"parameters": {
								"variable": "isDragging",
								"value": "false"
							}
						}
					],
					"sid": 700328896884350,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "Command",
									"sid": 698934258384565,
									"parameters": {
										"object": "UIPanel"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "UIPanel",
									"sid": 390649295732055,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"active-commands-panel\""
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "CommandShadow",
									"sid": 955845818909923,
									"parameters": {
										"unique-id": "Functions.PickCommandShadowToShow"
									}
								}
							],
							"actions": [
								{
									"type": "script",
									"script": "addToCommands(runtime.objects.Command.getFirstPickedInstance());\nconsole.log(commands);\n"
								},
								{
									"callFunction": "setCommandActive",
									"sid": 666196429181350
								},
								{
									"callFunction": "saveCommandPosition",
									"sid": 786191275505392
								}
							],
							"sid": 467262502036328
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 918843759382303
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "Command",
									"sid": 530019295501329
								}
							],
							"sid": 839084713117325
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"callFunction": "resetActiveCommands",
									"sid": 916117884772811
								},
								{
									"callFunction": "SetCommandScrollablePanelWitdh",
									"sid": 901467777076094
								}
							],
							"sid": 564390162512832
						}
					]
				},
				{
					"functionName": "setCommandActive",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": true,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-position-to-another-object",
							"objectClass": "Command",
							"sid": 983112811873984,
							"parameters": {
								"object": "CommandShadow",
								"image-point-optional": "0"
							}
						},
						{
							"id": "move-to-layer",
							"objectClass": "Command",
							"sid": 869654979916495,
							"parameters": {
								"layer": "\"ActiveCommandList\""
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "Command",
							"sid": 852351281782725,
							"parameters": {
								"instance-variable": "isActive",
								"value": "true"
							}
						},
						{
							"id": "set-blend-mode",
							"objectClass": "Command",
							"sid": 667519586457665,
							"parameters": {
								"blend-mode": "source-atop"
							}
						}
					],
					"sid": 855481297025925,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-children",
									"objectClass": "Command",
									"sid": 190246839952824,
									"parameters": {
										"child": "NestedCommandBackground",
										"which": "all"
									}
								}
							],
							"actions": [
								{
									"id": "move-to-layer",
									"objectClass": "NestedCommandBackground",
									"sid": 424059256410211,
									"parameters": {
										"layer": "\"ActiveCommandList\""
									}
								}
							],
							"sid": 824878077309445
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-children",
									"objectClass": "Command",
									"sid": 159657565034760,
									"parameters": {
										"child": "CommandDecoration",
										"which": "all"
									}
								}
							],
							"actions": [
								{
									"id": "move-to-layer",
									"objectClass": "CommandDecoration",
									"sid": 141915818171180,
									"parameters": {
										"layer": "\"ActiveCommandList\""
									}
								}
							],
							"sid": 272521692216284
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-children",
									"objectClass": "Command",
									"sid": 360582196996704,
									"parameters": {
										"child": "OtherCommand",
										"which": "all"
									}
								}
							],
							"actions": [
								{
									"id": "move-to-layer",
									"objectClass": "OtherCommand",
									"sid": 361081911995759,
									"parameters": {
										"layer": "\"ActiveCommandList\""
									}
								}
							],
							"sid": 666226111949077
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-children",
									"objectClass": "Command",
									"sid": 265520851166098,
									"parameters": {
										"child": "CommandShadow",
										"which": "all"
									}
								}
							],
							"actions": [
								{
									"id": "move-to-layer",
									"objectClass": "CommandShadow",
									"sid": 789701894959968,
									"parameters": {
										"layer": "\"ActiveCommandList\""
									}
								}
							],
							"sid": 476129655476726
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "ScrollablePanel",
									"sid": 665004472647071,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"active-commands\""
									}
								}
							],
							"actions": [
								{
									"id": "add-child",
									"objectClass": "ScrollablePanel",
									"sid": 101520508834055,
									"parameters": {
										"child": "Command",
										"transform-x": true,
										"transform-y": false,
										"transform-w": false,
										"transform-h": false,
										"transform-a": false,
										"transform-z-elevation": false,
										"destroy-with-parent": false
									}
								}
							],
							"sid": 448285937937622
						}
					]
				},
				{
					"functionName": "setCommandInactive",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": true,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "remove-from-parent",
							"objectClass": "Command",
							"sid": 730830104050229
						},
						{
							"id": "move-to-layer",
							"objectClass": "Command",
							"sid": 273633062603445,
							"parameters": {
								"layer": "\"UI\""
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "Command",
							"sid": 821091203653935,
							"parameters": {
								"instance-variable": "isActive",
								"value": "false"
							}
						},
						{
							"id": "set-blend-mode",
							"objectClass": "Command",
							"sid": 764546903453038,
							"parameters": {
								"blend-mode": "normal"
							}
						}
					],
					"sid": 418910372317299,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-children",
									"objectClass": "Command",
									"sid": 383076458175674,
									"parameters": {
										"child": "NestedCommandBackground",
										"which": "all"
									}
								}
							],
							"actions": [
								{
									"id": "move-to-layer",
									"objectClass": "NestedCommandBackground",
									"sid": 252422453578673,
									"parameters": {
										"layer": "\"UI\""
									}
								}
							],
							"sid": 544482078567132
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-children",
									"objectClass": "Command",
									"sid": 901288450467620,
									"parameters": {
										"child": "CommandDecoration",
										"which": "all"
									}
								}
							],
							"actions": [
								{
									"id": "move-to-layer",
									"objectClass": "CommandDecoration",
									"sid": 869535506855184,
									"parameters": {
										"layer": "\"UI\""
									}
								}
							],
							"sid": 851567355846918
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-children",
									"objectClass": "Command",
									"sid": 893889787008268,
									"parameters": {
										"child": "OtherCommand",
										"which": "all"
									}
								}
							],
							"actions": [
								{
									"id": "move-to-layer",
									"objectClass": "OtherCommand",
									"sid": 866407797921095,
									"parameters": {
										"layer": "\"UI\""
									}
								}
							],
							"sid": 804170345320698
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-children",
									"objectClass": "Command",
									"sid": 473427654327935,
									"parameters": {
										"child": "CommandShadow",
										"which": "all"
									}
								}
							],
							"actions": [
								{
									"id": "move-to-layer",
									"objectClass": "CommandShadow",
									"sid": 190568564015580,
									"parameters": {
										"layer": "\"UI\""
									}
								}
							],
							"sid": 285695744043998
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-touched-object",
							"objectClass": "Touch",
							"sid": 588976810553569,
							"parameters": {
								"object": "Button"
							}
						}
					],
					"actions": [
						{
							"type": "script",
							"script": "console.log(\"running commands\")\nrunCommands(runtime.objects.Player.getFirstInstance());"
						}
					],
					"sid": 678822265513400
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-drag-start",
							"objectClass": "ScrollablePanel",
							"sid": 831990673460892,
							"behaviorType": "DragDrop"
						}
					],
					"actions": [],
					"sid": 278854673642972,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-touching-object",
									"objectClass": "Touch",
									"sid": 154660383205802,
									"parameters": {
										"object": "UIPanel"
									},
									"isInverted": true
								},
								{
									"id": "is-touching-object",
									"objectClass": "Touch",
									"sid": 504163108751699,
									"parameters": {
										"object": "Command"
									}
								}
							],
							"actions": [
								{
									"id": "drop",
									"objectClass": "ScrollablePanel",
									"sid": 940023178984544,
									"behaviorType": "DragDrop"
								}
							],
							"sid": 825342567594060,
							"isOrBlock": true
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-dragging",
							"objectClass": "ScrollablePanel",
							"sid": 411143449150556,
							"behaviorType": "DragDrop",
							"isInverted": true
						}
					],
					"actions": [],
					"sid": 323569093164634,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "ScrollablePanel",
									"sid": 448728586511051,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"horizontal\""
									}
								}
							],
							"actions": [
								{
									"id": "set-x",
									"objectClass": "ScrollablePanel",
									"sid": 533401774505005,
									"parameters": {
										"x": "lerp(Self.X, clamp(Self.X, Self.min, Self.max), 20*dt)"
									}
								}
							],
							"sid": 416380544808945
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "ScrollablePanel",
									"sid": 904659995624017,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"vertical\""
									}
								}
							],
							"actions": [
								{
									"id": "set-y",
									"objectClass": "ScrollablePanel",
									"sid": 756513142130324,
									"parameters": {
										"y": "lerp(Self.Y, clamp(Self.Y, Self.min, Self.max), 20*dt)"
									}
								}
							],
							"sid": 285715582718201
						}
					]
				},
				{
					"functionName": "setupScrollable",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 192193394687227,
							"parameters": {
								"object": "ScrollablePanel"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "ScrollablePanel",
							"sid": 837410266069730,
							"parameters": {
								"instance-variable": "initialMin",
								"value": "Self.min"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "ScrollablePanel",
							"sid": 488124192468767,
							"parameters": {
								"instance-variable": "initialMax",
								"value": "Self.max"
							}
						}
					],
					"sid": 661793962266581,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "ScrollablePanel",
									"sid": 673658489902921,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"horizontal\""
									}
								}
							],
							"actions": [
								{
									"id": "set-axes",
									"objectClass": "ScrollablePanel",
									"sid": 304117967884799,
									"behaviorType": "DragDrop",
									"parameters": {
										"axes": "horizontal-only"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ScrollablePanel",
									"sid": 859939072064072,
									"parameters": {
										"instance-variable": "initialLength",
										"value": "Self.Width"
									}
								}
							],
							"sid": 454226828604848
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "ScrollablePanel",
									"sid": 476241920323360,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"vertical\""
									}
								}
							],
							"actions": [
								{
									"id": "set-axes",
									"objectClass": "ScrollablePanel",
									"sid": 598095100359908,
									"behaviorType": "DragDrop",
									"parameters": {
										"axes": "vertical-only"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ScrollablePanel",
									"sid": 604674705108357,
									"parameters": {
										"instance-variable": "initialLength",
										"value": "Self.Height"
									}
								}
							],
							"sid": 972864115360000
						}
					]
				},
				{
					"functionName": "clampScrollable",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": true,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 430872484629674,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "ScrollablePanel",
									"sid": 102885375027353,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"horizontal\""
									}
								}
							],
							"actions": [
								{
									"id": "set-x",
									"objectClass": "ScrollablePanel",
									"sid": 277846679617622,
									"parameters": {
										"x": "clamp(Self.X, Self.min, Self.max)"
									}
								}
							],
							"sid": 174513055426347
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "ScrollablePanel",
									"sid": 980809455317536,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"vertical\""
									}
								}
							],
							"actions": [
								{
									"id": "set-y",
									"objectClass": "ScrollablePanel",
									"sid": 995204921480886,
									"parameters": {
										"y": "clamp(Self.Y, Self.min, Self.max)"
									}
								}
							],
							"sid": 987253887400587
						}
					]
				},
				{
					"functionName": "SetCommandScrollablePanelWitdh",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "ScrollablePanel",
							"sid": 891216298306810,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"active-commands\""
							}
						}
					],
					"actions": [],
					"sid": 223349364598474,
					"children": [
						{
							"eventType": "variable",
							"name": "newWidth",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 434768708202482
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 182857445068974,
									"parameters": {
										"variable": "newWidth",
										"value": "2 * ACTIVE_COMMAND_MARGIN"
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 154323449626080,
									"parameters": {
										"variable": "newWidth",
										"value": "StartCommand.Width"
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 271204009018737,
									"parameters": {
										"variable": "newWidth",
										"value": "ScrollablePanel.initialLength/2"
									}
								}
							],
							"sid": 944018353174405
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-children",
									"objectClass": "ScrollablePanel",
									"sid": 649891434006028,
									"parameters": {
										"child": "Command",
										"which": "all"
									}
								},
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 669708250142615,
									"parameters": {
										"object": "Command"
									}
								}
							],
							"actions": [
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 777854599433029,
									"parameters": {
										"variable": "newWidth",
										"value": "Command.Width"
									}
								}
							],
							"sid": 436609355986975
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 500305444029287,
									"parameters": {
										"variable": "newWidth",
										"comparison": 3,
										"value": "ScrollablePanel.initialLength"
									}
								}
							],
							"actions": [
								{
									"id": "set-width",
									"objectClass": "ScrollablePanel",
									"sid": 292124940268087,
									"parameters": {
										"width": "Self.initialLength"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ScrollablePanel",
									"sid": 615612616703215,
									"parameters": {
										"instance-variable": "min",
										"value": "Self.initialMin"
									}
								}
							],
							"sid": 390979813416437
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 297792865298163
								}
							],
							"actions": [
								{
									"id": "set-width",
									"objectClass": "ScrollablePanel",
									"sid": 496722758850909,
									"parameters": {
										"width": "newWidth"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ScrollablePanel",
									"sid": 353066002745878,
									"parameters": {
										"instance-variable": "min",
										"value": "(Self.initialMin + Self.initialLength) - newWidth"
									}
								}
							],
							"sid": 504955287596018
						}
					]
				}
			],
			"sid": 446028862137096
		}
	],
	"sid": 808040494368574
}