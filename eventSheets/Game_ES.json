{
	"name": "Game_ES",
	"events": [
		{
			"eventType": "include",
			"includeSheet": "Common_ES"
		},
		{
			"eventType": "variable",
			"name": "GRID_SIZE",
			"type": "number",
			"initialValue": "64",
			"comment": "",
			"isStatic": true,
			"isConstant": true,
			"sid": 109618598389210
		},
		{
			"eventType": "variable",
			"name": "currentPlayerUID",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 609270761893114
		},
		{
			"eventType": "variable",
			"name": "isRunning",
			"type": "boolean",
			"initialValue": "false",
			"comment": "",
			"isStatic": true,
			"isConstant": false,
			"sid": 633749470522791
		},
		{
			"eventType": "variable",
			"name": "isDragging",
			"type": "boolean",
			"initialValue": "false",
			"comment": "",
			"isStatic": true,
			"isConstant": false,
			"sid": 907360693346189
		},
		{
			"eventType": "variable",
			"name": "isPlaying",
			"type": "boolean",
			"initialValue": "false",
			"comment": "",
			"isStatic": true,
			"isConstant": false,
			"sid": 251108471733478
		},
		{
			"eventType": "variable",
			"name": "level",
			"type": "number",
			"initialValue": "0",
			"comment": "0 is test level",
			"isStatic": false,
			"isConstant": false,
			"sid": 442340568067062
		},
		{
			"eventType": "variable",
			"name": "levelTimer",
			"type": "number",
			"initialValue": "0",
			"comment": "in seconds",
			"isStatic": false,
			"isConstant": false,
			"sid": 932229550987927
		},
		{
			"eventType": "variable",
			"name": "codeBlockCount",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 201966265709213
		},
		{
			"eventType": "variable",
			"name": "actionCount",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 308036544770473
		},
		{
			"eventType": "variable",
			"name": "username",
			"type": "string",
			"initialValue": "",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 907515181854290
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Command",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 633731294598576
						}
					],
					"actions": [
						{
							"id": "set-visible",
							"objectClass": "CodeBlockShadow",
							"sid": 290982034569437,
							"parameters": {
								"visibility": "invisible"
							}
						}
					],
					"sid": 612593316670721
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-touched-object",
							"objectClass": "Touch",
							"sid": 372248058485151,
							"parameters": {
								"object": "CodeBlockButton"
							}
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 805787981559465,
							"parameters": {
								"variable": "isDragging"
							},
							"isInverted": true
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 358341498941192,
							"parameters": {
								"variable": "isRunning"
							},
							"isInverted": true
						},
						{
							"id": "pick-parent",
							"objectClass": "CodeBlockButton",
							"sid": 897397573386582,
							"parameters": {
								"parent": "CodeBlockPanel",
								"which": "top"
							}
						},
						{
							"id": "is-touching-object",
							"objectClass": "Touch",
							"sid": 723473884153220,
							"parameters": {
								"object": "CodeBlockPanel"
							}
						}
					],
					"actions": [
						{
							"callFunction": "CreateNewCodeBlockObject",
							"sid": 735656916286516,
							"parameters": [
								"CodeBlockButton.AnimationName",
								"CodeBlockButton.inactiveLayer",
								"CodeBlockButton.panelId",
								"CodeBlockButton.X",
								"CodeBlockButton.Y",
								"CodeBlockButton.AnimationFrame"
							]
						}
					],
					"sid": 779430353187203
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-drag-start",
							"objectClass": "CodeBlock",
							"sid": 249464404143076,
							"behaviorType": "DragDrop"
						}
					],
					"actions": [],
					"sid": 811373202969291,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 632175319931117,
									"parameters": {
										"variable": "isDragging"
									}
								}
							],
							"actions": [
								{
									"callFunction": "PseudoDropCodeBlock",
									"sid": 162695499001214
								}
							],
							"sid": 190273193972901,
							"isOrBlock": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 936587390509648
								}
							],
							"actions": [
								{
									"callFunction": "ClampScrollable",
									"sid": 175402015779733
								},
								{
									"type": "comment",
									"text": "first call to saveCommandPosition, just in case the position changed because of scroll"
								},
								{
									"callFunction": "SaveAllCodeBlocksPosition",
									"sid": 527987029291519
								}
							],
							"sid": 490257851542919,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "CodeBlock",
											"sid": 755668526747739,
											"parameters": {
												"instance-variable": "isActive"
											}
										}
									],
									"actions": [],
									"sid": 617538421159356,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 875596165430695,
													"parameters": {
														"first-value": "Functions.CheckCanDragCodeBlock",
														"comparison": 1,
														"second-value": "0"
													}
												}
											],
											"actions": [
												{
													"callFunction": "PseudoDropCodeBlock",
													"sid": 957700593258325
												}
											],
											"sid": 498218052688895
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 208283986643748
												}
											],
											"actions": [
												{
													"id": "set-boolean-eventvar",
													"objectClass": "System",
													"sid": 922136276958906,
													"parameters": {
														"variable": "isDragging",
														"value": "true"
													}
												},
												{
													"type": "script",
													"script": "removeCodeBlock(\n\truntime.objects.CodeBlock.getFirstPickedInstance()\n);"
												},
												{
													"callFunction": "SetCodeBlockActive",
													"sid": 149720674450295,
													"parameters": [
														false
													]
												},
												{
													"type": "comment",
													"text": "second call saveCommandPosition, after shifting active position without the dragged command"
												},
												{
													"callFunction": "ShiftActiveCodeBlocksSavedPosition",
													"sid": 856502921323088,
													"parameters": [
														"CodeBlock.X",
														"-CodeBlock.Width",
														"CodeBlock.panelId"
													]
												}
											],
											"sid": 610675001549488
										}
									]
								}
							]
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-dragging",
							"objectClass": "CodeBlock",
							"sid": 105475288078458,
							"behaviorType": "DragDrop"
						}
					],
					"actions": [
						{
							"type": "script",
							"script": "resetContainerLength(\n\truntime.objects.CodeBlockContainer.getAllInstances()\n);"
						}
					],
					"sid": 601895820222359,
					"children": [
						{
							"eventType": "variable",
							"name": "newWidth",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 637802356768460
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "CodeBlock",
									"sid": 449688868599534,
									"parameters": {
										"object": "CodeBlockPanel"
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "CodeBlockShadow",
									"sid": 927885151075302,
									"parameters": {
										"unique-id": "Functions.PickCodeBlockShadowToShow"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 194005860103454,
									"parameters": {
										"variable": "newWidth",
										"value": "Functions.getExpectedWidth(CodeBlockShadow.level)"
									}
								},
								{
									"callFunction": "ShowCodeBlockShadow",
									"sid": 104760486705674,
									"parameters": [
										"CodeBlockShadow.UID",
										"newWidth"
									]
								},
								{
									"callFunction": "ShiftActiveCodeBlocks",
									"sid": 129366506871012,
									"parameters": [
										"CodeBlockShadow.X",
										"newWidth",
										"CodeBlock.panelId"
									]
								}
							],
							"sid": 519996175298180
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 334739427962197
								}
							],
							"actions": [
								{
									"callFunction": "ResetActiveCodeBlocks",
									"sid": 733125477755939
								}
							],
							"sid": 441139817013168
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-drop",
							"objectClass": "CodeBlock",
							"sid": 383493508569320,
							"behaviorType": "DragDrop"
						}
					],
					"actions": [
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 383263006390166,
							"parameters": {
								"variable": "isDragging",
								"value": "false"
							}
						}
					],
					"sid": 700328896884350,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "CodeBlock",
									"sid": 698934258384565,
									"parameters": {
										"object": "CodeBlockPanel"
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "CodeBlockShadow",
									"sid": 662099567116718,
									"parameters": {
										"unique-id": "Functions.PickCodeBlockShadowToShow"
									}
								}
							],
							"actions": [
								{
									"type": "script",
									"script": "addCodeBlock(\n\truntime.objects.CodeBlock.getFirstPickedInstance(), \n\truntime.objects.CodeBlockShadow.getFirstPickedInstance()\n);"
								},
								{
									"callFunction": "SetCodeBlockActive",
									"sid": 786197012970962,
									"parameters": [
										true
									]
								},
								{
									"callFunction": "SaveAllCodeBlocksPosition",
									"sid": 786191275505392
								}
							],
							"sid": 467262502036328,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "CodeBlock",
											"sid": 143959790758397,
											"parameters": {
												"instance-variable": "isNew"
											}
										}
									],
									"actions": [],
									"sid": 454089006255226,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 504873706072781,
													"parameters": {
														"first-value": "CodeBlock.ObjectTypeName",
														"comparison": 0,
														"second-value": "RepeatCommand.ObjectTypeName"
													}
												}
											],
											"actions": [
												{
													"callFunction": "CreatePopUpPanel",
													"sid": 543750540298260,
													"parameters": [
														"\"repeat\"",
														"CodeBlock.UID"
													]
												},
												{
													"callFunction": "SetCommandPopUpPanel",
													"sid": 975445451302085,
													"parameters": [
														true,
														"\"repeat\""
													]
												}
											],
											"sid": 715969635810566
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 327907342066378,
													"parameters": {
														"first-value": "CodeBlock.ObjectTypeName",
														"comparison": 0,
														"second-value": "WhileCommand.ObjectTypeName"
													}
												}
											],
											"actions": [
												{
													"callFunction": "CreatePopUpPanel",
													"sid": 876508082075342,
													"parameters": [
														"\"while\"",
														"CodeBlock.UID"
													]
												},
												{
													"callFunction": "SetCommandPopUpPanel",
													"sid": 251406670397749,
													"parameters": [
														true,
														"\"while\""
													]
												}
											],
											"sid": 357452802498426
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 232770565965346,
													"parameters": {
														"first-value": "CodeBlock.ObjectTypeName",
														"comparison": 0,
														"second-value": "IfCommand.ObjectTypeName"
													}
												}
											],
											"actions": [
												{
													"callFunction": "CreatePopUpPanel",
													"sid": 431048997920557,
													"parameters": [
														"\"if\"",
														"CodeBlock.UID"
													]
												},
												{
													"callFunction": "SetCommandPopUpPanel",
													"sid": 168856496428000,
													"parameters": [
														true,
														"\"if\""
													]
												}
											],
											"sid": 796969940262454
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 115346934370104,
													"parameters": {
														"first-value": "CodeBlock.ObjectTypeName",
														"comparison": 0,
														"second-value": "ElseIfCommand.ObjectTypeName"
													}
												}
											],
											"actions": [
												{
													"callFunction": "CreatePopUpPanel",
													"sid": 663880273354798,
													"parameters": [
														"\"elif\"",
														"CodeBlock.UID"
													]
												},
												{
													"callFunction": "SetCommandPopUpPanel",
													"sid": 142715769288552,
													"parameters": [
														true,
														"\"elif\""
													]
												}
											],
											"sid": 161273611054615
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "CodeBlock",
											"sid": 995441758031844,
											"parameters": {
												"instance-variable": "isNew",
												"value": "false"
											}
										}
									],
									"sid": 134334595025956
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 918843759382303
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "CodeBlock",
									"sid": 530019295501329
								}
							],
							"sid": 839084713117325
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"callFunction": "ResetActiveCodeBlocks",
									"sid": 916117884772811
								}
							],
							"sid": 564390162512832
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 103291109259663,
							"parameters": {
								"variable": "isRunning"
							}
						}
					],
					"actions": [
						{
							"id": "set-enabled",
							"objectClass": "CodeBlock",
							"sid": 140642294707258,
							"behaviorType": "DragDrop",
							"parameters": {
								"state": "disabled"
							}
						}
					],
					"sid": 403063728362583,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Button",
									"sid": 750364708709795,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"play\""
									}
								}
							],
							"actions": [
								{
									"id": "set-animation-frame",
									"objectClass": "Button",
									"sid": 587242011287556,
									"parameters": {
										"frame-number": "1"
									}
								}
							],
							"sid": 468871080420976
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 714703869965483,
							"parameters": {
								"variable": "isRunning"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-enabled",
							"objectClass": "CodeBlock",
							"sid": 357654306297957,
							"behaviorType": "DragDrop",
							"parameters": {
								"state": "enabled"
							}
						}
					],
					"sid": 980071856682603,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Button",
									"sid": 836211772524149,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"play\""
									}
								}
							],
							"actions": [
								{
									"id": "set-animation-frame",
									"objectClass": "Button",
									"sid": 730574757891444,
									"parameters": {
										"frame-number": "0"
									}
								}
							],
							"sid": 117717418135226
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-touched-object",
							"objectClass": "Touch",
							"sid": 768927338990605,
							"parameters": {
								"object": "CodeBlockDecoration"
							}
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 704770514676817,
							"parameters": {
								"variable": "isRunning"
							},
							"isInverted": true
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "CodeBlockDecoration",
							"sid": 718450816205202,
							"parameters": {
								"instance-variable": "clickable"
							}
						},
						{
							"id": "pick-parent",
							"objectClass": "CodeBlockDecoration",
							"sid": 644496866020076,
							"parameters": {
								"parent": "CodeBlock",
								"which": "own"
							}
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "CodeBlock",
							"sid": 852886327909860,
							"parameters": {
								"instance-variable": "isActive"
							}
						}
					],
					"actions": [],
					"sid": 837960848733366,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "CodeBlockDecoration",
									"sid": 729968225198742,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"repeat-pop-up\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "SetCommandPopUpPanel",
									"sid": 680641665869371,
									"parameters": [
										true,
										"\"repeat\""
									]
								}
							],
							"sid": 170814303741394
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "CodeBlockDecoration",
									"sid": 960395937525106,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"while-pop-up\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "SetCommandPopUpPanel",
									"sid": 944334202207373,
									"parameters": [
										true,
										"\"while\""
									]
								}
							],
							"sid": 871117696094054
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "CodeBlockDecoration",
									"sid": 446176630685254,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"if-pop-up\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "SetCommandPopUpPanel",
									"sid": 432111724363189,
									"parameters": [
										true,
										"\"if\""
									]
								}
							],
							"sid": 204817460683988
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "CodeBlockDecoration",
									"sid": 448312103144812,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"elif-pop-up\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "SetCommandPopUpPanel",
									"sid": 226556810218581,
									"parameters": [
										true,
										"\"elif\""
									]
								}
							],
							"sid": 294210455638349
						}
					]
				},
				{
					"functionName": "CreateNewCodeBlockObject",
					"functionCopyPicked": false,
					"functionDescription": "",
					"functionCategory": "Creation",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "objectTypeName",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"sid": 279397482552838
						},
						{
							"name": "layer",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"sid": 555107669347700
						},
						{
							"name": "panelId",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"sid": 296933171270584
						},
						{
							"name": "x",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 423610438519916
						},
						{
							"name": "y",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 946925253570329
						},
						{
							"name": "frame",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 693891882739728
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "create-object-by-name",
							"objectClass": "System",
							"sid": 964975778414463,
							"parameters": {
								"object-name": "objectTypeName",
								"layer": "layer",
								"x": "x",
								"y": "y",
								"create-hierarchy": true,
								"template-name": "\"\""
							}
						}
					],
					"sid": 865708086403614,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-last-created",
									"objectClass": "System",
									"sid": 861853366766292,
									"parameters": {
										"object": "CodeBlock"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "CodeBlock",
									"sid": 677276863416670,
									"parameters": {
										"instance-variable": "panelId",
										"value": "panelId"
									}
								},
								{
									"id": "set-animation-frame",
									"objectClass": "CodeBlock",
									"sid": 797057774665729,
									"parameters": {
										"frame-number": "frame"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "CodeBlock",
									"sid": 163339409386643,
									"parameters": {
										"instance-variable": "inactiveLayer",
										"value": "CodeBlock.LayerName"
									}
								}
							],
							"sid": 165605925101653,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "CodeBlockPanel",
											"sid": 507126350410062,
											"parameters": {
												"instance-variable": "id",
												"comparison": 0,
												"value": "panelId"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "CodeBlock",
											"sid": 608468958125916,
											"parameters": {
												"instance-variable": "activeLayer",
												"value": "CodeBlockPanel.LayerName"
											}
										}
									],
									"sid": 960181835098591
								}
							]
						}
					]
				},
				{
					"functionName": "PickCodeBlockShadowToShow",
					"functionCopyPicked": true,
					"functionDescription": "",
					"functionCategory": "CodeBlock",
					"functionReturnType": "number",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "CodeBlockPanel",
							"sid": 509196334035074,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "CodeBlock.panelId"
							}
						},
						{
							"id": "pick-children",
							"objectClass": "CodeBlockPanel",
							"sid": 357133778573749,
							"parameters": {
								"child": "CodeBlockShadow",
								"which": "all"
							}
						}
					],
					"actions": [
						{
							"type": "script",
							"script": "const pickedUid = pickCodeBlockShadowToShow(\n\truntime.objects.CodeBlock.getFirstPickedInstance(), \n\truntime.objects.CodeBlockShadow.getPickedInstances()\n);\n\nruntime.setReturnValue(pickedUid);"
						}
					],
					"sid": 844392995573375
				},
				{
					"functionName": "ShowCodeBlockShadow",
					"functionCopyPicked": false,
					"functionDescription": "",
					"functionCategory": "CodeBlock",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "uid",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 327133150412776
						},
						{
							"name": "width",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 139360883236464
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 507891514867109,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-unique-id",
									"objectClass": "CodeBlockShadow",
									"sid": 625261651581949,
									"parameters": {
										"unique-id": "uid"
									}
								}
							],
							"actions": [
								{
									"id": "set-width",
									"objectClass": "CodeBlockShadow",
									"sid": 102421657716945,
									"parameters": {
										"width": "width"
									}
								},
								{
									"id": "set-visible",
									"objectClass": "CodeBlockShadow",
									"sid": 784112188789199,
									"parameters": {
										"visibility": "visible"
									}
								},
								{
									"id": "set-opacity",
									"objectClass": "CodeBlockShadow",
									"sid": 419587203824586,
									"disabled": true,
									"parameters": {
										"opacity": "100"
									}
								},
								{
									"type": "script",
									"script": "expandCodeBlockShadowContainer(\n\truntime.objects.CodeBlockShadow.getFirstPickedInstance()\n);"
								}
							],
							"sid": 406506094909100
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-unique-id",
									"objectClass": "CodeBlockShadow",
									"sid": 636912308587094,
									"parameters": {
										"unique-id": "uid"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-visible",
									"objectClass": "CodeBlockShadow",
									"sid": 771815665671022,
									"parameters": {
										"visibility": "invisible"
									}
								},
								{
									"id": "set-width",
									"objectClass": "CodeBlockShadow",
									"sid": 374910056872910,
									"disabled": true,
									"parameters": {
										"width": "20"
									}
								},
								{
									"id": "set-visible",
									"objectClass": "CodeBlockShadow",
									"sid": 664503636869744,
									"disabled": true,
									"parameters": {
										"visibility": "visible"
									}
								},
								{
									"id": "set-opacity",
									"objectClass": "CodeBlockShadow",
									"sid": 884440039971283,
									"disabled": true,
									"parameters": {
										"opacity": "50"
									}
								}
							],
							"sid": 275641822109083
						}
					]
				},
				{
					"functionName": "SaveAllCodeBlocksPosition",
					"functionCopyPicked": false,
					"functionDescription": "",
					"functionCategory": "CodeBlock",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "is-dragging",
							"objectClass": "CodeBlock",
							"sid": 976829372847574,
							"behaviorType": "DragDrop",
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "CodeBlock",
							"sid": 361455050993134,
							"parameters": {
								"instance-variable": "savedX",
								"value": "Self.X"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "CodeBlock",
							"sid": 885893630173229,
							"parameters": {
								"instance-variable": "savedY",
								"value": "Self.Y"
							}
						}
					],
					"sid": 771571373680666
				},
				{
					"functionName": "ResetActiveCodeBlocks",
					"functionCopyPicked": false,
					"functionDescription": "",
					"functionCategory": "CodeBlock",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-visible",
							"objectClass": "CodeBlockShadow",
							"sid": 669880104509517,
							"parameters": {
								"visibility": "invisible"
							}
						},
						{
							"type": "script",
							"script": "resetContainerLength(\n\truntime.objects.CodeBlockContainer.getAllInstances()\n);"
						},
						{
							"id": "set-visible",
							"objectClass": "CodeBlockShadow",
							"sid": 867785991994109,
							"disabled": true,
							"parameters": {
								"visibility": "visible"
							}
						},
						{
							"id": "set-opacity",
							"objectClass": "CodeBlockShadow",
							"sid": 555389098149938,
							"disabled": true,
							"parameters": {
								"opacity": "50"
							}
						}
					],
					"sid": 873994074074811,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "CodeBlock",
									"sid": 412846268345532,
									"parameters": {
										"instance-variable": "isActive"
									}
								}
							],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "CodeBlock",
									"sid": 609721035812358,
									"parameters": {
										"x": "Self.savedX",
										"y": "Self.savedY"
									}
								}
							],
							"sid": 583333230263145
						}
					]
				},
				{
					"functionName": "ShiftActiveCodeBlocks",
					"functionCopyPicked": false,
					"functionDescription": "",
					"functionCategory": "CodeBlock",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "x",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 332633950558545
						},
						{
							"name": "deltaWidth",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 918415430987728
						},
						{
							"name": "panelId",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"sid": 564771456022084
						}
					],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "CodeBlock",
							"sid": 470122634964503,
							"parameters": {
								"instance-variable": "isActive"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "CodeBlock",
							"sid": 454283230734975,
							"parameters": {
								"instance-variable": "panelId",
								"comparison": 0,
								"value": "panelId"
							}
						}
					],
					"actions": [],
					"sid": 836732642885252,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-x",
									"objectClass": "CodeBlock",
									"sid": 969989727405044,
									"parameters": {
										"comparison": 5,
										"x-co-ordinate": "x"
									}
								}
							],
							"actions": [
								{
									"id": "set-x",
									"objectClass": "CodeBlock",
									"sid": 343885558079173,
									"parameters": {
										"x": "Self.savedX + deltaWidth"
									}
								}
							],
							"sid": 266846760091196
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-x",
									"objectClass": "CodeBlock",
									"sid": 517090480549705,
									"parameters": {
										"comparison": 2,
										"x-co-ordinate": "x"
									}
								}
							],
							"actions": [
								{
									"id": "set-x",
									"objectClass": "CodeBlock",
									"sid": 319641890094181,
									"parameters": {
										"x": "Self.savedX"
									}
								}
							],
							"sid": 827707683916332
						}
					]
				},
				{
					"eventType": "comment",
					"text": "FIXME: really hacky, same problem as /Scripts/code-blocks/conditionals/conditional-command.js:87-90"
				},
				{
					"functionName": "ShiftActiveCodeBlocksSavedPosition",
					"functionCopyPicked": false,
					"functionDescription": "",
					"functionCategory": "CodeBlock",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "x",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 748988872432343
						},
						{
							"name": "deltaWidth",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 580787801313359
						},
						{
							"name": "panelId",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"sid": 425517459909055
						}
					],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "CodeBlock",
							"sid": 722458680188234,
							"parameters": {
								"instance-variable": "isActive"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "CodeBlock",
							"sid": 659265625743306,
							"parameters": {
								"instance-variable": "panelId",
								"comparison": 0,
								"value": "panelId"
							}
						}
					],
					"actions": [],
					"sid": 992038029959061,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-x",
									"objectClass": "CodeBlock",
									"sid": 322769625283499,
									"parameters": {
										"comparison": 5,
										"x-co-ordinate": "x"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "CodeBlock",
									"sid": 440475048691116,
									"parameters": {
										"instance-variable": "savedX",
										"value": "Self.savedX + deltaWidth"
									}
								}
							],
							"sid": 370357816019075
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-x",
									"objectClass": "CodeBlock",
									"sid": 912877863795842,
									"parameters": {
										"comparison": 2,
										"x-co-ordinate": "x"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "CodeBlock",
									"sid": 333590241807354,
									"parameters": {
										"instance-variable": "savedX",
										"value": "Self.savedX"
									}
								}
							],
							"sid": 531155528416362
						}
					]
				},
				{
					"functionName": "PseudoDropCodeBlock",
					"functionCopyPicked": true,
					"functionDescription": "",
					"functionCategory": "CodeBlock",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"type": "comment",
							"text": "workaround for drop, since it will trigger on drop otherwise"
						},
						{
							"id": "set-enabled",
							"objectClass": "CodeBlock",
							"sid": 211633811022142,
							"behaviorType": "DragDrop",
							"parameters": {
								"state": "disabled"
							}
						},
						{
							"id": "set-enabled",
							"objectClass": "CodeBlock",
							"sid": 746069108089153,
							"behaviorType": "DragDrop",
							"parameters": {
								"state": "enabled"
							}
						},
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 700668212957238,
							"parameters": {
								"variable": "isDragging",
								"value": "false"
							}
						}
					],
					"sid": 196580022289217
				},
				{
					"functionName": "SetCodeBlockActive",
					"functionCopyPicked": true,
					"functionDescription": "",
					"functionCategory": "CodeBlock",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "active",
							"type": "boolean",
							"initialValue": "false",
							"comment": "",
							"sid": 844070350336243
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"type": "script",
							"script": "runtime.objects.CodeBlock.getFirstPickedInstance().setActive(localVars.active);"
						}
					],
					"sid": 917542497394645
				},
				{
					"functionName": "CreatePopUpPanel",
					"functionCopyPicked": false,
					"functionDescription": "",
					"functionCategory": "Creation",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "name",
							"type": "string",
							"initialValue": "",
							"comment": "repeat, while, if, elif",
							"sid": 615880891052479
						},
						{
							"name": "CommandUID",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 151902895640076
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 434914503054531,
							"parameters": {
								"object-to-create": "UIPanel",
								"layer": "\"PopUpBack\"",
								"x": "192",
								"y": "name = \"repeat\" ? 147.5 : 180",
								"create-hierarchy": true,
								"template-name": "name & \"-panel\""
							}
						}
					],
					"sid": 670796639253080,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "UIPanel",
									"sid": 501167586613352,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "name & \"-panel\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "UIPanel",
									"sid": 706813437021555,
									"parameters": {
										"instance-variable": "id",
										"value": "name & \"-panel-\" & CommandUID"
									}
								}
							],
							"sid": 329524123697184
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "CodeBlockPanel",
									"sid": 380048636806131,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "name & \"-panel-input-background\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "CodeBlockPanel",
									"sid": 438690139772747,
									"parameters": {
										"instance-variable": "id",
										"value": "name & \"-panel-input-background-\" & CommandUID"
									}
								},
								{
									"id": "move-to-layer",
									"objectClass": "CodeBlockPanel",
									"sid": 812100098271734,
									"parameters": {
										"layer": "\"PopUpMiddle\""
									}
								}
							],
							"sid": 499028110867405
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "CodeBlockPanelBorder",
									"sid": 292240032439026,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "name & \"-panel-input-background\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "CodeBlockPanelBorder",
									"sid": 379387073838922,
									"parameters": {
										"instance-variable": "id",
										"value": "name & \"-panel-input-background-\" & CommandUID"
									}
								},
								{
									"id": "move-to-layer",
									"objectClass": "CodeBlockPanelBorder",
									"sid": 962287880888976,
									"parameters": {
										"layer": "\"PopUpFront\""
									}
								}
							],
							"sid": 906049573142889
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-children",
									"objectClass": "UIPanel",
									"sid": 713337145950891,
									"parameters": {
										"child": "ScrollablePanel",
										"which": "all"
									}
								}
							],
							"actions": [
								{
									"id": "move-to-layer",
									"objectClass": "ScrollablePanel",
									"sid": 210391020866275,
									"parameters": {
										"layer": "\"PopUpMiddle\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ScrollablePanel",
									"sid": 656779846251057,
									"parameters": {
										"instance-variable": "min",
										"value": "Self.x"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ScrollablePanel",
									"sid": 843650559994382,
									"parameters": {
										"instance-variable": "max",
										"value": "Self.x"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ScrollablePanel",
									"sid": 113011188320411,
									"parameters": {
										"instance-variable": "id",
										"value": "name & \"-condition-container-\" & CommandUID"
									}
								},
								{
									"callFunction": "SetupScrollable",
									"sid": 760995149547953
								}
							],
							"sid": 195694331653936
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-children",
									"objectClass": "UIPanel",
									"sid": 990258356433417,
									"parameters": {
										"child": "ExpressionsContainer",
										"which": "all"
									}
								}
							],
							"actions": [
								{
									"id": "move-to-layer",
									"objectClass": "ExpressionsContainer",
									"sid": 616090784345968,
									"parameters": {
										"layer": "\"PopUpMiddle\""
									}
								}
							],
							"sid": 886068905645340
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-children",
									"objectClass": "UIPanel",
									"sid": 682821119619993,
									"parameters": {
										"child": "CodeBlockShadow",
										"which": "all"
									}
								}
							],
							"actions": [
								{
									"id": "move-to-layer",
									"objectClass": "CodeBlockShadow",
									"sid": 900661932859353,
									"parameters": {
										"layer": "\"PopUpMiddle\""
									}
								}
							],
							"sid": 125429818451015
						}
					]
				},
				{
					"functionName": "SetCommandPopUpPanel",
					"functionCopyPicked": true,
					"functionDescription": "",
					"functionCategory": "CodeBlock",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "show",
							"type": "boolean",
							"initialValue": "false",
							"comment": "",
							"sid": 876443307619284
						},
						{
							"name": "name",
							"type": "string",
							"initialValue": "",
							"comment": "repeat, while, if, elif",
							"sid": 905074338589189
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 399749748841667,
					"children": [
						{
							"eventType": "variable",
							"name": "commandUID",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 966306306077438
						},
						{
							"eventType": "variable",
							"name": "shownLayer",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 858400218806806
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 881427419230567,
									"parameters": {
										"variable": "shownLayer",
										"value": "name = \"repeat\" ? \"RepeatPopUp\" : \"ConditionalPopUp\""
									}
								}
							],
							"sid": 924778608187838
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 616336684015476,
									"parameters": {
										"variable": "show"
									}
								}
							],
							"actions": [
								{
									"type": "script",
									"script": "pickedCommand = runtime.objects.CodeBlock.getFirstPickedInstance();\nlocalVars.commandUID = pickedCommand.uid;"
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 726889627937324,
									"parameters": {
										"seconds": "0.01"
									}
								},
								{
									"id": "set-layer-visible",
									"objectClass": "System",
									"sid": 483538997539849,
									"parameters": {
										"layer": "shownLayer",
										"visibility": "visible"
									}
								},
								{
									"id": "set-layer-interactive",
									"objectClass": "System",
									"sid": 230218340240950,
									"parameters": {
										"layer": "shownLayer",
										"interactive": true
									}
								},
								{
									"callFunction": "showLevelPopUp",
									"sid": 570571487523822,
									"parameters": [
										true
									]
								}
							],
							"sid": 669991091029476,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "UIPanel",
											"sid": 487404267094600,
											"parameters": {
												"instance-variable": "id",
												"comparison": 0,
												"value": "name & \"-panel-\"&commandUID"
											}
										}
									],
									"actions": [
										{
											"id": "set-y",
											"objectClass": "UIPanel",
											"sid": 994712398539161,
											"parameters": {
												"y": "147.5"
											}
										}
									],
									"sid": 403143928305166
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-on-layer",
											"objectClass": "CodeBlockButton",
											"sid": 555831430306656,
											"parameters": {
												"layer": "name = \"repeat\" ? \"RepeatPopUpCodeBlocks\" : \"ConditionalPopUpCodeBlocks\""
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "CodeBlockButton",
											"sid": 502899864065156,
											"parameters": {
												"instance-variable": "panelId",
												"value": "name & \"-panel-input-background-\"&commandUID"
											}
										}
									],
									"sid": 177385040015969
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 918214264756183
								}
							],
							"actions": [
								{
									"type": "script",
									"script": "localVars.commandUID = pickedCommand.uid;"
								},
								{
									"id": "set-layer-visible",
									"objectClass": "System",
									"sid": 346929856985836,
									"parameters": {
										"layer": "shownLayer",
										"visibility": "invisible"
									}
								},
								{
									"id": "set-layer-interactive",
									"objectClass": "System",
									"sid": 669180551466773,
									"parameters": {
										"layer": "shownLayer",
										"interactive": false
									}
								},
								{
									"callFunction": "showLevelPopUp",
									"sid": 479091525747313,
									"parameters": [
										false
									]
								}
							],
							"sid": 264157354859256,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "UIPanel",
											"sid": 680038200155742,
											"parameters": {
												"instance-variable": "id",
												"comparison": 0,
												"value": "name & \"-panel-\"&commandUID"
											}
										}
									],
									"actions": [
										{
											"id": "set-y",
											"objectClass": "UIPanel",
											"sid": 248705691828257,
											"parameters": {
												"y": "-1000"
											}
										}
									],
									"sid": 673774518727367,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-all",
													"objectClass": "System",
													"sid": 964613278524316,
													"parameters": {
														"object": "ExpressionsContainer"
													}
												},
												{
													"id": "pick-children",
													"objectClass": "UIPanel",
													"sid": 754909009115275,
													"parameters": {
														"child": "ExpressionsContainer",
														"which": "all"
													}
												}
											],
											"actions": [
												{
													"type": "script",
													"script": "const condition = runtime.objects.ExpressionsContainer\n\t.getFirstPickedInstance().evaluate();\npickedCommand.setCondition(condition);"
												}
											],
											"sid": 996872364563657
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"type": "script",
											"script": "pickedCommand = null;"
										}
									],
									"sid": 105988972539011
								}
							]
						}
					]
				},
				{
					"functionName": "GetExpectedWidth",
					"functionCopyPicked": true,
					"functionDescription": "",
					"functionCategory": "CodeBlock",
					"functionReturnType": "number",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "blockLevel",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 818859423543882
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"type": "script",
							"script": "runtime.setReturnValue(\n\truntime.objects.CodeBlock\n\t\t.getFirstPickedInstance()\n\t\t.getWidthOnLevel(localVars.blockLevel)\n);"
						}
					],
					"sid": 287229515861692
				},
				{
					"functionName": "CheckCanDragCodeBlock",
					"functionCopyPicked": false,
					"functionDescription": "",
					"functionCategory": "CodeBlock",
					"functionReturnType": "number",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-function-return-value",
							"objectClass": "Functions",
							"sid": 853083856086651,
							"parameters": {
								"value": "0"
							}
						}
					],
					"sid": 200928604152511,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-touching-object",
									"objectClass": "Touch",
									"sid": 842826187155457,
									"parameters": {
										"object": "CodeBlockDecoration"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "CodeBlockDecoration",
									"sid": 193934222847242,
									"parameters": {
										"instance-variable": "clickable"
									}
								}
							],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 935831080253400,
									"parameters": {
										"value": "1"
									}
								}
							],
							"sid": 122201877488561
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-touching-object",
									"objectClass": "Touch",
									"sid": 274632687786740,
									"parameters": {
										"object": "Button"
									}
								}
							],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 339600351836974,
									"parameters": {
										"value": "1"
									}
								}
							],
							"sid": 153290914979140
						}
					]
				},
				{
					"functionName": "showLevelPopUp",
					"functionCopyPicked": false,
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "show",
							"type": "boolean",
							"initialValue": "false",
							"comment": "",
							"sid": 226195300177141
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 673736646726318,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 927866559747060,
									"parameters": {
										"variable": "show"
									}
								}
							],
							"actions": [
								{
									"id": "set-layer-visible",
									"objectClass": "System",
									"sid": 843872287095396,
									"parameters": {
										"layer": "\"LevelPopUp\"",
										"visibility": "visible"
									}
								},
								{
									"id": "set-layer-interactive",
									"objectClass": "System",
									"sid": 500342314462378,
									"parameters": {
										"layer": "\"LevelPopUp\"",
										"interactive": true
									}
								},
								{
									"id": "set-layer-interactive",
									"objectClass": "System",
									"sid": 910125017172146,
									"parameters": {
										"layer": "\"UI\"",
										"interactive": false
									}
								},
								{
									"id": "set-layer-interactive",
									"objectClass": "System",
									"sid": 934663872332394,
									"parameters": {
										"layer": "\"Game\"",
										"interactive": false
									}
								}
							],
							"sid": 901625312363298
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 476066603390763
								}
							],
							"actions": [
								{
									"id": "set-layer-visible",
									"objectClass": "System",
									"sid": 780634880509116,
									"parameters": {
										"layer": "\"LevelPopUp\"",
										"visibility": "invisible"
									}
								},
								{
									"id": "set-layer-interactive",
									"objectClass": "System",
									"sid": 435367418480782,
									"parameters": {
										"layer": "\"LevelPopUp\"",
										"interactive": false
									}
								},
								{
									"id": "set-layer-interactive",
									"objectClass": "System",
									"sid": 638838213693120,
									"parameters": {
										"layer": "\"UI\"",
										"interactive": true
									}
								},
								{
									"id": "set-layer-interactive",
									"objectClass": "System",
									"sid": 526127119263903,
									"parameters": {
										"layer": "\"Game\"",
										"interactive": true
									}
								}
							],
							"sid": 881116491643937
						}
					]
				}
			],
			"sid": 446028862137096
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Scrollable",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "variable",
					"name": "SCROLL_SPEED",
					"type": "number",
					"initialValue": "2500",
					"comment": "",
					"isStatic": true,
					"isConstant": true,
					"sid": 390490733059004
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 380543177930933
						},
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 619648017095190,
							"parameters": {
								"object": "ScrollablePanel"
							}
						}
					],
					"actions": [
						{
							"callFunction": "SetupScrollable",
							"sid": 891364584265743
						}
					],
					"sid": 843074771632739
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-drag-start",
							"objectClass": "ScrollablePanel",
							"sid": 374903853276763,
							"behaviorType": "DragDrop"
						}
					],
					"actions": [],
					"sid": 315693940068405,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-touching-object",
									"objectClass": "Touch",
									"sid": 517000797714432,
									"parameters": {
										"object": "CodeBlockPanel"
									},
									"isInverted": true
								},
								{
									"id": "is-touching-object",
									"objectClass": "Touch",
									"sid": 591124741407882,
									"parameters": {
										"object": "CodeBlock"
									}
								}
							],
							"actions": [
								{
									"id": "drop",
									"objectClass": "ScrollablePanel",
									"sid": 941053151681527,
									"behaviorType": "DragDrop"
								}
							],
							"sid": 413518804764320,
							"isOrBlock": true
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-dragging",
							"objectClass": "ScrollablePanel",
							"sid": 482056115396361,
							"behaviorType": "DragDrop",
							"isInverted": true
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 484238256017660,
							"parameters": {
								"variable": "isDragging"
							},
							"isInverted": true
						}
					],
					"actions": [],
					"sid": 756258114516809,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "ScrollablePanel",
									"sid": 529580256884604,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"horizontal\""
									}
								}
							],
							"actions": [
								{
									"id": "set-x",
									"objectClass": "ScrollablePanel",
									"sid": 549498229918273,
									"parameters": {
										"x": "lerp(Self.X, clamp(Self.X, Self.min, Self.max), 20*dt)"
									}
								}
							],
							"sid": 851818603089367
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "ScrollablePanel",
									"sid": 717257063338861,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"vertical\""
									}
								}
							],
							"actions": [
								{
									"id": "set-y",
									"objectClass": "ScrollablePanel",
									"sid": 116672886451970,
									"parameters": {
										"y": "lerp(Self.Y, clamp(Self.Y, Self.min, Self.max), 20*dt)"
									}
								}
							],
							"sid": 953659433717919
						}
					]
				},
				{
					"functionName": "SetupScrollable",
					"functionCopyPicked": true,
					"functionDescription": "",
					"functionCategory": "Scrollable",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "ScrollablePanel",
							"sid": 999421901934492,
							"parameters": {
								"instance-variable": "initialMin",
								"value": "Self.min"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "ScrollablePanel",
							"sid": 977567866777639,
							"parameters": {
								"instance-variable": "initialMax",
								"value": "Self.max"
							}
						}
					],
					"sid": 694572370150040,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "ScrollablePanel",
									"sid": 303516222503516,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"horizontal\""
									}
								}
							],
							"actions": [
								{
									"id": "set-axes",
									"objectClass": "ScrollablePanel",
									"sid": 161120041003561,
									"behaviorType": "DragDrop",
									"parameters": {
										"axes": "horizontal-only"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ScrollablePanel",
									"sid": 257828593593592,
									"parameters": {
										"instance-variable": "initialLength",
										"value": "Self.Width"
									}
								}
							],
							"sid": 136209254026289
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "ScrollablePanel",
									"sid": 559721543872491,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"vertical\""
									}
								}
							],
							"actions": [
								{
									"id": "set-axes",
									"objectClass": "ScrollablePanel",
									"sid": 554895299734318,
									"behaviorType": "DragDrop",
									"parameters": {
										"axes": "vertical-only"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ScrollablePanel",
									"sid": 493776090031825,
									"parameters": {
										"instance-variable": "initialLength",
										"value": "Self.Height"
									}
								}
							],
							"sid": 409316329420441
						}
					]
				},
				{
					"functionName": "ClampScrollable",
					"functionCopyPicked": true,
					"functionDescription": "",
					"functionCategory": "Scrollable",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 618000235228571,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "ScrollablePanel",
									"sid": 436273219811483,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"horizontal\""
									}
								}
							],
							"actions": [
								{
									"id": "set-x",
									"objectClass": "ScrollablePanel",
									"sid": 418523084741489,
									"parameters": {
										"x": "clamp(Self.X, Self.min, Self.max)"
									}
								}
							],
							"sid": 834844615766632
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "ScrollablePanel",
									"sid": 442721366709410,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"vertical\""
									}
								}
							],
							"actions": [
								{
									"id": "set-y",
									"objectClass": "ScrollablePanel",
									"sid": 406012765250572,
									"parameters": {
										"y": "clamp(Self.Y, Self.min, Self.max)"
									}
								}
							],
							"sid": 107023226186674
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-mouse-wheel",
							"objectClass": "Mouse",
							"sid": 377670777497961,
							"parameters": {
								"direction": "up"
							}
						},
						{
							"id": "cursor-is-over-object",
							"objectClass": "Mouse",
							"sid": 912137914707992,
							"parameters": {
								"object": "CodeBlockPanel"
							}
						},
						{
							"id": "pick-children",
							"objectClass": "CodeBlockPanel",
							"sid": 529579649916153,
							"parameters": {
								"child": "ScrollablePanel",
								"which": "own"
							}
						},
						{
							"id": "is-dragging",
							"objectClass": "ScrollablePanel",
							"sid": 623122953361529,
							"behaviorType": "DragDrop",
							"isInverted": true
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 612358786859230,
							"parameters": {
								"variable": "isDragging"
							},
							"isInverted": true
						}
					],
					"actions": [],
					"sid": 754446662973228,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "ScrollablePanel",
									"sid": 221107156620935,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"horizontal\""
									}
								}
							],
							"actions": [
								{
									"id": "set-x",
									"objectClass": "ScrollablePanel",
									"sid": 379686429509210,
									"parameters": {
										"x": "Self.X - SCROLL_SPEED * dt"
									}
								}
							],
							"sid": 749061676975308
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "ScrollablePanel",
									"sid": 233822294722307,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"vertical\""
									}
								}
							],
							"actions": [
								{
									"id": "set-y",
									"objectClass": "ScrollablePanel",
									"sid": 834034470529110,
									"parameters": {
										"y": "Self.Y - SCROLL_SPEED * dt"
									}
								}
							],
							"sid": 428023860311237
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-mouse-wheel",
							"objectClass": "Mouse",
							"sid": 672525111645430,
							"parameters": {
								"direction": "down"
							}
						},
						{
							"id": "cursor-is-over-object",
							"objectClass": "Mouse",
							"sid": 550510580837204,
							"parameters": {
								"object": "CodeBlockPanel"
							}
						},
						{
							"id": "pick-children",
							"objectClass": "CodeBlockPanel",
							"sid": 175184540327922,
							"parameters": {
								"child": "ScrollablePanel",
								"which": "own"
							}
						},
						{
							"id": "is-dragging",
							"objectClass": "ScrollablePanel",
							"sid": 108239973323535,
							"behaviorType": "DragDrop",
							"isInverted": true
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 714219522900026,
							"parameters": {
								"variable": "isDragging"
							},
							"isInverted": true
						}
					],
					"actions": [],
					"sid": 506117745687482,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "ScrollablePanel",
									"sid": 656930432821263,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"horizontal\""
									}
								}
							],
							"actions": [
								{
									"id": "set-x",
									"objectClass": "ScrollablePanel",
									"sid": 981254233862543,
									"parameters": {
										"x": "Self.X + SCROLL_SPEED * dt"
									}
								}
							],
							"sid": 821611529551893
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "ScrollablePanel",
									"sid": 918659662729614,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"vertical\""
									}
								}
							],
							"actions": [
								{
									"id": "set-y",
									"objectClass": "ScrollablePanel",
									"sid": 471641732717301,
									"parameters": {
										"y": "Self.Y + SCROLL_SPEED * dt"
									}
								}
							],
							"sid": 684907758285206
						}
					]
				}
			],
			"sid": 813875990020546
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "PanAndZoom",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "variable",
					"name": "TouchPanID",
					"type": "number",
					"initialValue": "-1",
					"comment": "ID of the touch using to pan",
					"isStatic": true,
					"isConstant": false,
					"sid": 484170253854635
				},
				{
					"eventType": "variable",
					"name": "TouchZoomID",
					"type": "number",
					"initialValue": "-1",
					"comment": "ID of second touch using to zoom",
					"isStatic": true,
					"isConstant": false,
					"sid": 195843784352337
				},
				{
					"eventType": "variable",
					"name": "TouchLastX",
					"type": "number",
					"initialValue": "0",
					"comment": "Initial X position of touch (for pan)",
					"isStatic": true,
					"isConstant": false,
					"sid": 280206379566161
				},
				{
					"eventType": "variable",
					"name": "TouchLastY",
					"type": "number",
					"initialValue": "0",
					"comment": "Initial Y position of touch (for pan)",
					"isStatic": true,
					"isConstant": false,
					"sid": 244502033228830
				},
				{
					"eventType": "variable",
					"name": "TouchStartDistance",
					"type": "number",
					"initialValue": "0",
					"comment": "Initial distance apart of touches (for zoom)",
					"isStatic": true,
					"isConstant": false,
					"sid": 520457257397378
				},
				{
					"eventType": "variable",
					"name": "InitialScale",
					"type": "number",
					"initialValue": "0",
					"comment": "Initial scale of layout (for zoom)",
					"isStatic": true,
					"isConstant": false,
					"sid": 935562321489622
				},
				{
					"eventType": "variable",
					"name": "minScale",
					"type": "number",
					"initialValue": "0.5",
					"comment": "Minimal scale of layout (for zoom)",
					"isStatic": true,
					"isConstant": false,
					"sid": 897733246658984
				},
				{
					"eventType": "variable",
					"name": "MaxScale",
					"type": "number",
					"initialValue": "2",
					"comment": "Max scale of layout (for zoom)",
					"isStatic": true,
					"isConstant": false,
					"sid": 114775859860561
				},
				{
					"eventType": "variable",
					"name": "OriginalMidX",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": true,
					"isConstant": false,
					"sid": 999991456960705
				},
				{
					"eventType": "variable",
					"name": "OriginalMidY",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": true,
					"isConstant": false,
					"sid": 694770292995889
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 839272285833839
						}
					],
					"actions": [
						{
							"callFunction": "ResetPanAndZoomVariable",
							"sid": 457925344639206
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 336422422438019,
							"parameters": {
								"variable": "OriginalMidX",
								"value": "OriginalViewportWidth/2"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 179602698653196,
							"parameters": {
								"variable": "OriginalMidY",
								"value": "OriginalViewportHeight/2"
							}
						}
					],
					"sid": 356182281223981
				},
				{
					"functionName": "ResetPanAndZoomVariable",
					"functionCopyPicked": false,
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 817131976166261,
							"parameters": {
								"variable": "TouchPanID",
								"value": "-1"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 401887750081888,
							"parameters": {
								"variable": "TouchZoomID",
								"value": "-1"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 907610906557412,
							"parameters": {
								"variable": "TouchLastX",
								"value": "0"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 427743683782849,
							"parameters": {
								"variable": "TouchLastY",
								"value": "0"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 473842760952508,
							"parameters": {
								"variable": "TouchStartDistance",
								"value": "0"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 349077111216098,
							"parameters": {
								"variable": "InitialScale",
								"value": "0"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 368881673825692,
							"parameters": {
								"variable": "minScale",
								"value": "max(0.5, ViewportWidth(\"UI\")/LayoutWidth, ViewportHeight(\"UI\")/LayoutHeight)"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 242257219406356,
							"parameters": {
								"variable": "MaxScale",
								"value": "2"
							}
						},
						{
							"callFunction": "SetZoom",
							"sid": 768994948872423,
							"parameters": [
								"1"
							]
						}
					],
					"sid": 461768963606270
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-any-touch-start",
							"objectClass": "Touch",
							"sid": 895551981849635
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 325412529699071,
							"parameters": {
								"variable": "isDragging"
							},
							"isInverted": true
						},
						{
							"id": "is-touching-object",
							"objectClass": "Touch",
							"sid": 564305442787834,
							"parameters": {
								"object": "ScrollablePanel"
							},
							"isInverted": true
						},
						{
							"id": "is-touching-object",
							"objectClass": "Touch",
							"sid": 273649699260039,
							"parameters": {
								"object": "Button"
							},
							"isInverted": true
						},
						{
							"id": "is-touching-object",
							"objectClass": "Touch",
							"sid": 907941479481171,
							"parameters": {
								"object": "CodeBlock"
							},
							"isInverted": true
						}
					],
					"actions": [],
					"sid": 848413694163041,
					"children": [
						{
							"eventType": "comment",
							"text": "If the user touches, and we're not already panning with a different touch, store the touch ID and the position of the touch. Note we get the position of the touch from a separate layer which has a parallax of 0, otherwise panning the view would alter the reported touch position, resulting in confusing feedback loops."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 916978855495560,
									"parameters": {
										"variable": "TouchPanID",
										"comparison": 0,
										"value": "-1"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 139439842657346,
									"parameters": {
										"variable": "TouchLastX",
										"value": "Touch.X(\"UI\")"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 140228297625579,
									"parameters": {
										"variable": "TouchLastY",
										"value": "Touch.Y(\"UI\")"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 509561658259608,
									"parameters": {
										"variable": "TouchPanID",
										"value": "Touch.TouchID"
									}
								}
							],
							"sid": 928213317797891
						},
						{
							"eventType": "comment",
							"text": "Otherwise if we're already panning with a touch, this must be a second touch. Use this second touch to zoom the display. We need to remember the starting distance apart of the touches, as well as the starting layout scale, in order to calculate the zoom. Also store the mid-point of the touches, so we can still pan while zooming."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 723747168300825
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 225870624493617,
									"parameters": {
										"variable": "TouchZoomID",
										"comparison": 0,
										"value": "-1"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 326149270541433,
									"parameters": {
										"variable": "TouchZoomID",
										"value": "Touch.TouchID"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 862259846025292,
									"parameters": {
										"variable": "TouchStartDistance",
										"value": "distance(Touch.XForID(TouchPanID, \"UI\"), Touch.YForID(TouchPanID, \"UI\"), Touch.XForID(TouchZoomID, \"UI\"), Touch.YForID(TouchZoomID, \"UI\"))"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 949365097035407,
									"parameters": {
										"variable": "InitialScale",
										"value": "LayerScale(\"Game\")"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 743924016523870,
									"parameters": {
										"variable": "TouchLastX",
										"value": "(Touch.XForID(TouchPanID, \"UI\") + Touch.XForID(TouchZoomID, \"UI\")) / 2"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 240907681633896,
									"parameters": {
										"variable": "TouchLastY",
										"value": "(Touch.YForID(TouchPanID, \"UI\") + Touch.YForID(TouchZoomID, \"UI\")) / 2"
									}
								}
							],
							"sid": 437236401635881
						}
					]
				},
				{
					"eventType": "comment",
					"text": "While we have a touch to pan with, and we're not zooming, offset the scroll position by the change in position of the touch. This makes the view scroll with the touch. Note we also need to take in to account the layout scale to pan correctly at different zoom levels."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 631222044102406,
							"parameters": {
								"variable": "TouchPanID",
								"comparison": 1,
								"value": "-1"
							}
						},
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 714890110629824,
							"parameters": {
								"variable": "TouchZoomID",
								"comparison": 0,
								"value": "-1"
							}
						},
						{
							"id": "layer-is-visible",
							"objectClass": "System",
							"sid": 839402406437740,
							"parameters": {
								"layer": "\"PopUpBG\""
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "scroll-to-position",
							"objectClass": "System",
							"sid": 361298613695987,
							"parameters": {
								"x": "scrollx - (Touch.X(\"UI\") - TouchLastX) / LayerScale(\"Game\")",
								"y": "scrolly - (Touch.Y(\"UI\") - TouchLastY) / LayerScale(\"Game\")"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 461562997183620,
							"parameters": {
								"variable": "TouchLastX",
								"value": "Touch.X(\"UI\")"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 334597773391909,
							"parameters": {
								"variable": "TouchLastY",
								"value": "Touch.Y(\"UI\")"
							}
						}
					],
					"sid": 234744810043690
				},
				{
					"eventType": "comment",
					"text": "If there is a second touch we're zooming with, adjust the layout scale based on the distance between the touches. Also calculate the new mid-point of the two touches and keep panning based on that."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 822666045859556,
							"parameters": {
								"variable": "TouchZoomID",
								"comparison": 1,
								"value": "-1"
							}
						},
						{
							"id": "layer-is-visible",
							"objectClass": "System",
							"sid": 618834679803551,
							"parameters": {
								"layer": "\"PopUpBG\""
							},
							"isInverted": true
						}
					],
					"actions": [],
					"sid": 944513914637492,
					"children": [
						{
							"eventType": "variable",
							"name": "TouchCurrentDistance",
							"type": "number",
							"initialValue": "0",
							"comment": "The current distance apart of the touches (for zoom)",
							"isStatic": false,
							"isConstant": false,
							"sid": 603626711099878
						},
						{
							"eventType": "variable",
							"name": "TouchCurrentMidX",
							"type": "number",
							"initialValue": "0",
							"comment": "The current average position of the touches for panning while zooming",
							"isStatic": false,
							"isConstant": false,
							"sid": 730691565252703
						},
						{
							"eventType": "variable",
							"name": "TouchCurrentMidY",
							"type": "number",
							"initialValue": "0",
							"comment": "The current average position of the touches for panning while zooming",
							"isStatic": false,
							"isConstant": false,
							"sid": 120953165705174
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 386221772541407,
									"parameters": {
										"variable": "TouchCurrentMidX",
										"value": "(Touch.XForID(TouchPanID, \"UI\") + Touch.XForID(TouchZoomID, \"UI\")) / 2"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 536892723249615,
									"parameters": {
										"variable": "TouchCurrentMidY",
										"value": "(Touch.YForID(TouchPanID, \"UI\") + Touch.YForID(TouchZoomID, \"UI\")) / 2"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 161400669003333,
									"parameters": {
										"variable": "TouchCurrentDistance",
										"value": "distance(Touch.XForID(TouchPanID, \"UI\"), Touch.YForID(TouchPanID, \"UI\"), Touch.XForID(TouchZoomID, \"UI\"), Touch.YForID(TouchZoomID, \"UI\"))"
									}
								},
								{
									"callFunction": "SetZoom",
									"sid": 929048554442628,
									"parameters": [
										"clamp(InitialScale * (TouchCurrentDistance / TouchStartDistance), minScale, MaxScale)"
									]
								},
								{
									"id": "scroll-to-position",
									"objectClass": "System",
									"sid": 113404270483840,
									"parameters": {
										"x": "scrollx - (TouchCurrentMidX - TouchLastX) / LayerScale(\"Game\")",
										"y": "scrolly - (TouchCurrentMidY - TouchLastY) / LayerScale(\"Game\")"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 522118094723941,
									"parameters": {
										"variable": "TouchLastX",
										"value": "TouchCurrentMidX"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 890155692785387,
									"parameters": {
										"variable": "TouchLastY",
										"value": "TouchCurrentMidY"
									}
								}
							],
							"sid": 136837161001928
						}
					]
				},
				{
					"eventType": "comment",
					"text": "When the touch we are panning or zooming with ends, reset the stored touch ID so we stop the action."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-any-touch-end",
							"objectClass": "Touch",
							"sid": 638097238338961
						}
					],
					"actions": [],
					"sid": 167819352206507,
					"children": [
						{
							"eventType": "comment",
							"text": "If we stop the first (panning) touch while zooming, make the second (zooming) touch become the new panning touch."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 731496051977863,
									"parameters": {
										"variable": "TouchPanID",
										"comparison": 0,
										"value": "Touch.TouchID"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 906202711891398,
									"parameters": {
										"variable": "TouchPanID",
										"value": "-1"
									}
								}
							],
							"sid": 817710673261225,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 356051675310054,
											"parameters": {
												"variable": "TouchZoomID",
												"comparison": 1,
												"value": "-1"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 527001134656734,
											"parameters": {
												"variable": "TouchPanID",
												"value": "TouchZoomID"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 368019317511262,
											"parameters": {
												"variable": "TouchZoomID",
												"value": "-1"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 427473525957274,
											"parameters": {
												"variable": "TouchLastX",
												"value": "Touch.XForID(TouchPanID, \"UI\")"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 677171347638312,
											"parameters": {
												"variable": "TouchLastY",
												"value": "Touch.YForID(TouchPanID, \"UI\")"
											}
										}
									],
									"sid": 859740675936589
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 799260087316073,
									"parameters": {
										"variable": "TouchZoomID",
										"comparison": 0,
										"value": "Touch.TouchID"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 147840490602567,
									"parameters": {
										"variable": "TouchZoomID",
										"value": "-1"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 716076158816084,
									"parameters": {
										"variable": "TouchLastX",
										"value": "Touch.XForID(TouchPanID, \"UI\")"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 225133464477079,
									"parameters": {
										"variable": "TouchLastY",
										"value": "Touch.YForID(TouchPanID, \"UI\")"
									}
								}
							],
							"sid": 315401216090987
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 218531258319181,
							"parameters": {
								"key": 187
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 958542980863833,
							"parameters": {
								"variable": "InitialScale",
								"value": "LayerScale(\"Game\")"
							}
						},
						{
							"callFunction": "SetZoom",
							"sid": 407148366444918,
							"parameters": [
								"clamp(InitialScale + 1 * dt, minScale, MaxScale)"
							]
						}
					],
					"sid": 380050891548844,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-mouse-wheel",
							"objectClass": "Mouse",
							"sid": 809347557124826,
							"parameters": {
								"direction": "up"
							}
						},
						{
							"id": "cursor-is-over-object",
							"objectClass": "Mouse",
							"sid": 834345218680199,
							"parameters": {
								"object": "ScrollablePanel"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 265244920424644,
							"parameters": {
								"variable": "InitialScale",
								"value": "LayerScale(\"Game\")"
							}
						},
						{
							"callFunction": "SetZoom",
							"sid": 547108321925462,
							"parameters": [
								"clamp(InitialScale + 5 * dt, minScale, MaxScale)"
							]
						}
					],
					"sid": 863151459271077
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 967829930942547,
							"parameters": {
								"key": 189
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 445281941760378,
							"parameters": {
								"variable": "InitialScale",
								"value": "LayerScale(\"Game\")"
							}
						},
						{
							"callFunction": "SetZoom",
							"sid": 257499592252607,
							"parameters": [
								"clamp(InitialScale - 1 * dt, minScale, MaxScale)"
							]
						}
					],
					"sid": 868630627755720,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-mouse-wheel",
							"objectClass": "Mouse",
							"sid": 534093345012016,
							"parameters": {
								"direction": "down"
							}
						},
						{
							"id": "cursor-is-over-object",
							"objectClass": "Mouse",
							"sid": 525325169513408,
							"parameters": {
								"object": "ScrollablePanel"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 222896850724332,
							"parameters": {
								"variable": "InitialScale",
								"value": "LayerScale(\"Game\")"
							}
						},
						{
							"callFunction": "SetZoom",
							"sid": 638454115762409,
							"parameters": [
								"clamp(InitialScale - 5 * dt, minScale, MaxScale)"
							]
						}
					],
					"sid": 374904246632052
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 869305269241514,
							"parameters": {
								"key": 87
							}
						},
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 605046252904890,
							"parameters": {
								"key": 38
							}
						}
					],
					"actions": [
						{
							"id": "scroll-to-y",
							"objectClass": "System",
							"sid": 946823342446909,
							"parameters": {
								"y": "scrolly - 400 * dt"
							}
						}
					],
					"sid": 907552827902668,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 536784194005425,
							"parameters": {
								"key": 83
							}
						},
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 223380072494067,
							"parameters": {
								"key": 40
							}
						}
					],
					"actions": [
						{
							"id": "scroll-to-y",
							"objectClass": "System",
							"sid": 408646804234785,
							"parameters": {
								"y": "scrolly + 400 * dt"
							}
						}
					],
					"sid": 903959736133675,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 337746849976356,
							"parameters": {
								"key": 65
							}
						},
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 316042409304323,
							"parameters": {
								"key": 37
							}
						}
					],
					"actions": [
						{
							"id": "scroll-to-x",
							"objectClass": "System",
							"sid": 469935930987397,
							"parameters": {
								"x": "scrollx  - 400 * dt"
							}
						}
					],
					"sid": 968434351854700,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 614045596199830,
							"parameters": {
								"key": 68
							}
						},
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 844967174564702,
							"parameters": {
								"key": 39
							}
						}
					],
					"actions": [
						{
							"id": "scroll-to-x",
							"objectClass": "System",
							"sid": 458774806504498,
							"parameters": {
								"x": "scrollx  + 400 * dt"
							}
						}
					],
					"sid": 565750069680589,
					"isOrBlock": true
				},
				{
					"functionName": "SetZoom",
					"functionCopyPicked": false,
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "zoom",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 844923028024973
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-layer-scale",
							"objectClass": "System",
							"sid": 158822021097416,
							"parameters": {
								"layer": "\"Game\"",
								"scale": "zoom"
							}
						},
						{
							"id": "set-layer-scale",
							"objectClass": "System",
							"sid": 370253580988173,
							"parameters": {
								"layer": "\"BG\"",
								"scale": "zoom"
							}
						},
						{
							"id": "set-layer-scale",
							"objectClass": "System",
							"sid": 736884512400554,
							"parameters": {
								"layer": "\"Grid\"",
								"scale": "zoom"
							}
						},
						{
							"id": "set-layer-scale",
							"objectClass": "System",
							"sid": 973061524316979,
							"parameters": {
								"layer": "\"Water\"",
								"scale": "zoom"
							}
						},
						{
							"id": "set-layer-scale",
							"objectClass": "System",
							"sid": 270266198656253,
							"parameters": {
								"layer": "\"SolidBorder\"",
								"scale": "zoom"
							}
						},
						{
							"id": "set-layer-scale",
							"objectClass": "System",
							"sid": 412512560759578,
							"parameters": {
								"layer": "\"Tilemap\"",
								"scale": "zoom"
							}
						}
					],
					"sid": 914421911441929
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 231966119690185,
							"parameters": {
								"first-value": "scrollx",
								"comparison": 2,
								"second-value": "OriginalMidX / LayerScale(\"Game\")"
							}
						}
					],
					"actions": [
						{
							"id": "scroll-to-x",
							"objectClass": "System",
							"sid": 912960120397022,
							"parameters": {
								"x": "OriginalMidX / LayerScale(\"Game\")"
							}
						}
					],
					"sid": 910289460210569
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 152775138484634,
							"parameters": {
								"first-value": "scrollx",
								"comparison": 4,
								"second-value": "LayoutWidth - OriginalMidX / LayerScale(\"Game\")"
							}
						}
					],
					"actions": [
						{
							"id": "scroll-to-x",
							"objectClass": "System",
							"sid": 799556947231148,
							"parameters": {
								"x": "LayoutWidth - OriginalMidX / LayerScale(\"Game\")"
							}
						}
					],
					"sid": 293478735438977
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 933995793534188,
							"parameters": {
								"first-value": "scrolly",
								"comparison": 2,
								"second-value": "OriginalMidY / LayerScale(\"Game\")"
							}
						}
					],
					"actions": [
						{
							"id": "scroll-to-y",
							"objectClass": "System",
							"sid": 114867944770522,
							"parameters": {
								"y": "OriginalMidY / LayerScale(\"Game\")"
							}
						}
					],
					"sid": 669373502951487
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 431523679452340,
							"parameters": {
								"first-value": "scrolly",
								"comparison": 4,
								"second-value": "LayoutHeight - OriginalMidY / LayerScale(\"Game\")"
							}
						}
					],
					"actions": [
						{
							"id": "scroll-to-y",
							"objectClass": "System",
							"sid": 212040984393081,
							"parameters": {
								"y": "LayoutHeight - OriginalMidY / LayerScale(\"Game\")"
							}
						}
					],
					"sid": 328780680241080
				}
			],
			"sid": 292331183861215
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Text",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "Text",
							"sid": 499305980485067,
							"parameters": {
								"instance-variable": "autoFit"
							}
						},
						{
							"id": "is-on-screen",
							"objectClass": "Text",
							"sid": 571503139249927
						},
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 887868504774359,
							"parameters": {
								"object": "Text"
							}
						}
					],
					"actions": [
						{
							"id": "set-scale",
							"objectClass": "Text",
							"sid": 930425231773144,
							"parameters": {
								"scale": "Self.maxScale"
							}
						}
					],
					"sid": 489643567450341,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "while",
									"objectClass": "System",
									"sid": 131384664559704
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 781453459981651,
									"parameters": {
										"first-value": "Text.CharacterScale",
										"comparison": 4,
										"second-value": "Text.minScale"
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 502919094419020,
									"parameters": {
										"first-value": "Functions.ShouldShrink",
										"comparison": 4,
										"second-value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-scale",
									"objectClass": "Text",
									"sid": 596783275106231,
									"parameters": {
										"scale": "Self.CharacterScale - 0.01"
									}
								}
							],
							"sid": 958500142888681
						}
					]
				},
				{
					"functionName": "ShouldShrink",
					"functionCopyPicked": true,
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "number",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 423693351159561,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 902611582574147,
									"parameters": {
										"first-value": "Text.TextWidth",
										"comparison": 4,
										"second-value": "Text.Width * 0.9"
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 833623512391617,
									"parameters": {
										"first-value": "Text.TextHeight",
										"comparison": 4,
										"second-value": "Text.CharacterHeight * Text.CharacterScale"
									}
								}
							],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 596053632027465,
									"parameters": {
										"value": "1"
									}
								}
							],
							"sid": 883460163713896,
							"isOrBlock": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 328804596357381
								}
							],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 149172777667805,
									"parameters": {
										"value": "0"
									}
								}
							],
							"sid": 375527864987637
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "UIText",
							"sid": 391265822416662,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"variables\""
							}
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "UIText",
							"sid": 275857252910940,
							"parameters": {
								"text": "Functions.GetVariables"
							}
						}
					],
					"sid": 620594553154912
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "UIText",
							"sid": 949341296327912,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"timer\""
							}
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "UIText",
							"sid": 299129257745057,
							"parameters": {
								"text": "\"Time: \" & Functions.FormatTime(levelTimer)"
							}
						}
					],
					"sid": 490625007754107
				},
				{
					"functionName": "GetVariables",
					"functionCopyPicked": false,
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "string",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"type": "script",
							"script": "runtime.setReturnValue(getVariables());"
						}
					],
					"sid": 959573130061458
				},
				{
					"functionName": "FormatTime",
					"functionCopyPicked": false,
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "string",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "seconds",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 671368891836364
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 141949919590841,
							"parameters": {
								"variable": "seconds",
								"value": "round(seconds)"
							}
						}
					],
					"sid": 151971636392912,
					"children": [
						{
							"eventType": "variable",
							"name": "minutes",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 621872479560231
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 946521102960889,
									"parameters": {
										"variable": "minutes",
										"value": "floor(seconds/60)"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 631358842003319,
									"parameters": {
										"variable": "seconds",
										"value": "seconds%60"
									}
								},
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 313645759363002,
									"parameters": {
										"value": "(minutes < 10 ? \"0\" & minutes : minutes) & \":\" & (seconds< 10 ? \"0\" & seconds : seconds)"
									}
								}
							],
							"sid": 116353686508916
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-created",
							"objectClass": "LevelText",
							"sid": 500848096201539
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "LevelText",
							"sid": 901912962546778,
							"parameters": {
								"instance-variable": "gridX",
								"value": "(Self.X - GRID_SIZE/2) / GRID_SIZE"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "LevelText",
							"sid": 830178026067721,
							"parameters": {
								"instance-variable": "gridY",
								"value": "(Self.Y - GRID_SIZE/2) / GRID_SIZE"
							}
						}
					],
					"sid": 547316695695729
				}
			],
			"sid": 361619522203103
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Enemy",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"aceType": "action",
					"aceName": "StartMove",
					"objectClass": "MovingEnemyCollision",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "custom-ace-block",
					"conditions": [],
					"actions": [],
					"sid": 107898621933291,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "MovingEnemyCollision",
									"sid": 948377667143171,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"up\""
									}
								}
							],
							"actions": [
								{
									"id": "simulate-control",
									"objectClass": "MovingEnemyCollision",
									"sid": 102345696463671,
									"behaviorType": "TileMovement",
									"parameters": {
										"control": "up"
									}
								}
							],
							"sid": 999464140544399
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "MovingEnemyCollision",
									"sid": 105214144141955,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"left\""
									}
								}
							],
							"actions": [
								{
									"id": "simulate-control",
									"objectClass": "MovingEnemyCollision",
									"sid": 323226756805496,
									"behaviorType": "TileMovement",
									"parameters": {
										"control": "left"
									}
								}
							],
							"sid": 760318853120797
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "MovingEnemyCollision",
									"sid": 623292092112198,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"right\""
									}
								}
							],
							"actions": [
								{
									"id": "simulate-control",
									"objectClass": "MovingEnemyCollision",
									"sid": 626131604216703,
									"behaviorType": "TileMovement",
									"parameters": {
										"control": "right"
									}
								}
							],
							"sid": 124820385991839
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "MovingEnemyCollision",
									"sid": 897917288230408,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"down\""
									}
								}
							],
							"actions": [
								{
									"id": "simulate-control",
									"objectClass": "MovingEnemyCollision",
									"sid": 582098646192683,
									"behaviorType": "TileMovement",
									"parameters": {
										"control": "down"
									}
								}
							],
							"sid": 741555965459021
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "MovingEnemyCollision",
							"sid": 845873090057922,
							"parameters": {
								"instance-variable": "health",
								"comparison": 3,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "MovingEnemyCollision",
							"sid": 399094979538874
						}
					],
					"sid": 793604773058100
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "MovingEnemyCollision",
							"sid": 255645246603298,
							"parameters": {
								"object": "MovingEnemyCheckpoint"
							}
						}
					],
					"actions": [
						{
							"type": "script",
							"script": "const collision = runtime.objects.MovingEnemyCollision\n\t.getFirstPickedInstance();\nconst checkpoint = runtime.objects.MovingEnemyCheckpoint\n\t.getFirstPickedInstance();\n\nconst id = checkpoint.instVars.id;\nconst valid = collision.instVars.validIds\n\t.split(\"|\").indexOf(id.toString());\n\nif (valid > -1) {\n\tcollision.instVars.direction = \n\t\tcheckpoint.instVars.direction;\n}"
						}
					],
					"sid": 207838625717516
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-moving-direction",
							"objectClass": "MovingEnemyCollision",
							"sid": 140637180012045,
							"behaviorType": "TileMovement",
							"parameters": {
								"direction": "right"
							}
						},
						{
							"id": "pick-children",
							"objectClass": "MovingEnemyCollision",
							"sid": 288584060374083,
							"parameters": {
								"child": "MovingEnemy",
								"which": "own"
							}
						},
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 624439314085540
						}
					],
					"actions": [
						{
							"id": "set-mirrored",
							"objectClass": "MovingEnemy",
							"sid": 516741021559167,
							"parameters": {
								"state": "mirrored"
							}
						}
					],
					"sid": 821808069985217
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-moving-direction",
							"objectClass": "MovingEnemyCollision",
							"sid": 661276422860436,
							"behaviorType": "TileMovement",
							"parameters": {
								"direction": "left"
							}
						},
						{
							"id": "pick-children",
							"objectClass": "MovingEnemyCollision",
							"sid": 125730647298403,
							"parameters": {
								"child": "MovingEnemy",
								"which": "own"
							}
						},
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 245880082589312
						}
					],
					"actions": [
						{
							"id": "set-mirrored",
							"objectClass": "MovingEnemy",
							"sid": 541460624502847,
							"parameters": {
								"state": "not-mirrored"
							}
						}
					],
					"sid": 473196078612887
				}
			],
			"sid": 589913040622524
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Bullet",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "variable",
					"name": "BULLET_RANGE",
					"type": "number",
					"initialValue": "5",
					"comment": "",
					"isStatic": true,
					"isConstant": true,
					"sid": 654815479073182
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Bullet",
							"sid": 449256297570389,
							"parameters": {
								"object": "SolidObstacle"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Bullet",
							"sid": 674990224080119
						}
					],
					"sid": 699783535092130
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Bullet",
							"sid": 847399536488494,
							"parameters": {
								"object": "MovingEnemyCollision"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Bullet",
							"sid": 118445454490833
						},
						{
							"id": "subtract-from-instvar",
							"objectClass": "MovingEnemyCollision",
							"sid": 884927459214947,
							"parameters": {
								"instance-variable": "health",
								"value": "1"
							}
						}
					],
					"sid": 257390564904569
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-distance-travelled",
							"objectClass": "Bullet",
							"sid": 932763450287858,
							"behaviorType": "Bullet",
							"parameters": {
								"comparison": 4,
								"distance": "GRID_SIZE * BULLET_RANGE"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Bullet",
							"sid": 405506401316078
						}
					],
					"sid": 756809420271803
				}
			],
			"sid": 343834548842833
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Game",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "variable",
					"name": "GAME_OVER_TWEEN_TAG",
					"type": "string",
					"initialValue": "game_over_tween",
					"comment": "",
					"isStatic": true,
					"isConstant": true,
					"sid": 357281100725744
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 950887717804199
						}
					],
					"actions": [
						{
							"id": "map-function",
							"objectClass": "Functions",
							"sid": 149596359493225,
							"parameters": {
								"name": "BUTTON_CLICKED",
								"string": "LayoutName",
								"function": "GameButtonClicked"
							}
						},
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 191477428210498,
							"parameters": {
								"variable": "isPlaying",
								"value": "true"
							}
						},
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 676670384007936,
							"parameters": {
								"variable": "isRunning",
								"value": "false"
							}
						},
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 795220707769500,
							"parameters": {
								"variable": "isDragging",
								"value": "false"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 831624232126734,
							"parameters": {
								"variable": "levelTimer",
								"value": "0"
							}
						},
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 129943425259161,
							"parameters": {
								"layer": "\"UI\"",
								"visibility": "visible"
							}
						},
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 780955087097625,
							"parameters": {
								"layer": "\"RepeatPopUp\"",
								"visibility": "invisible"
							}
						},
						{
							"id": "set-layer-interactive",
							"objectClass": "System",
							"sid": 739571697606556,
							"parameters": {
								"layer": "\"RepeatPopUp\"",
								"interactive": false
							}
						},
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 229746325659279,
							"parameters": {
								"layer": "\"ConditionalPopUp\"",
								"visibility": "invisible"
							}
						},
						{
							"id": "set-layer-interactive",
							"objectClass": "System",
							"sid": 407452513525210,
							"parameters": {
								"layer": "\"ConditionalPopUp\"",
								"interactive": false
							}
						},
						{
							"callFunction": "showLevelPopUp",
							"sid": 549906104014383,
							"parameters": [
								false
							]
						},
						{
							"id": "move-to-top",
							"objectClass": "Player",
							"sid": 195950738083213
						},
						{
							"id": "set-grid-dimensions",
							"objectClass": "Player",
							"sid": 345622271370274,
							"behaviorType": "TileMovement",
							"parameters": {
								"width": "GRID_SIZE",
								"height": "GRID_SIZE",
								"x-offset": "GRID_SIZE/2",
								"y-offset": "GRID_SIZE/2"
							}
						}
					],
					"sid": 821739008563039,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "UIPanel",
									"sid": 990968276634318,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"game-over\""
									}
								}
							],
							"actions": [
								{
									"id": "pin-to-object-properties",
									"objectClass": "TextInputName",
									"sid": 230956525997632,
									"behaviorType": "Pin",
									"parameters": {
										"pin-to": "UIPanel",
										"x": true,
										"y": true,
										"angle": true,
										"width-type": "no",
										"height-type": "no",
										"z": false
									}
								},
								{
									"id": "set-css-style",
									"objectClass": "TextInputName",
									"sid": 167104355310217,
									"parameters": {
										"property-name": "\"font-size\"",
										"value": "\"2vw\""
									}
								}
							],
							"sid": 671137814517311
						}
					]
				},
				{
					"functionName": "ResetGame",
					"functionCopyPicked": false,
					"functionDescription": "",
					"functionCategory": "Game",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "ResetObjects",
							"sid": 270705358816653
						},
						{
							"id": "destroy",
							"objectClass": "LevelText",
							"sid": 857519724679092
						},
						{
							"id": "recreate-initial-objects",
							"objectClass": "System",
							"sid": 478867782860744,
							"parameters": {
								"object": "ResetObjects",
								"from-x": "0",
								"from-y": "0",
								"to-x": "LayoutWidth",
								"to-y": "LayoutWidth",
								"source-layout": "LayoutName",
								"source-layer": "\"Game\"",
								"offset-x": "0",
								"offset-y": "0",
								"create-hierarchy": true
							}
						},
						{
							"id": "recreate-initial-objects",
							"objectClass": "System",
							"sid": 695474686579092,
							"parameters": {
								"object": "LevelText",
								"from-x": "0",
								"from-y": "0",
								"to-x": "LayoutWidth",
								"to-y": "LayoutWidth",
								"source-layout": "LayoutName",
								"source-layer": "\"Game\"",
								"offset-x": "0",
								"offset-y": "0",
								"create-hierarchy": true
							}
						},
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 926897094449397,
							"parameters": {
								"variable": "isRunning",
								"value": "false"
							}
						},
						{
							"type": "script",
							"script": "resetState(runtime, !state.isError);"
						}
					],
					"sid": 650488692869568
				},
				{
					"functionName": "GameOver",
					"functionCopyPicked": false,
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 714126832618019,
							"parameters": {
								"seconds": "Player.Fade.FadeOutTime"
							}
						},
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 622458699497123,
							"parameters": {
								"variable": "isPlaying",
								"value": "false"
							}
						},
						{
							"id": "set-text",
							"objectClass": "TextInputName",
							"sid": 439856039595636,
							"parameters": {
								"text": "username"
							}
						},
						{
							"callFunction": "showLevelPopUp",
							"sid": 972775298150073,
							"parameters": [
								true
							]
						}
					],
					"sid": 967244321279655,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "UIPanel",
									"sid": 245718366881647,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"game-over\""
									}
								}
							],
							"actions": [
								{
									"id": "tween-two-properties",
									"objectClass": "UIPanel",
									"sid": 591399102962713,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "GAME_OVER_TWEEN_TAG",
										"property": "position",
										"end-x": "Self.targetX",
										"end-y": "Self.targetY",
										"time": "Self.duration",
										"ease": "easeoutsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								}
							],
							"sid": 951763680943495
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "UIText",
									"sid": 602174117436567,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"game-over-time\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "UIText",
									"sid": 417377374124261,
									"parameters": {
										"text": "\"Waktu: \" & Functions.FormatTime(levelTimer)"
									}
								}
							],
							"sid": 619131238150019
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "UIText",
									"sid": 579821175011625,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"game-over-code-count\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "UIText",
									"sid": 193215939188327,
									"parameters": {
										"text": "\"Blok Kode: \" & Functions.GetBlockCount"
									}
								}
							],
							"sid": 757168391319465
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "UIText",
									"sid": 469640092718196,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"game-over-actions\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "UIText",
									"sid": 172348805358043,
									"parameters": {
										"text": "\"Aksi: \" & Functions.GetActionCount"
									}
								}
							],
							"sid": 785463805172623
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 501337803140091,
							"parameters": {
								"variable": "isPlaying"
							}
						}
					],
					"actions": [
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 587521942256509,
							"parameters": {
								"variable": "levelTimer",
								"value": "dt"
							}
						}
					],
					"sid": 843493528744408
				},
				{
					"functionName": "GameButtonClicked",
					"functionCopyPicked": true,
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "uid",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 239423856406936
						}
					],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-by-unique-id",
							"objectClass": "Button",
							"sid": 341669851507259,
							"parameters": {
								"unique-id": "uid"
							}
						}
					],
					"actions": [],
					"sid": 917418169826131,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Button",
									"sid": 935242426499978,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"play\""
									}
								}
							],
							"actions": [],
							"sid": 829767052210114,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 842674453746203,
											"parameters": {
												"variable": "isRunning"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"type": "script",
											"script": "console.log(\"running commands\")\n\nresetState(runtime, true);\n\nrunCommands(runtime, runtime.objects.Player.getAllInstances())"
										}
									],
									"sid": 239940556527685
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 821052953002071
										}
									],
									"actions": [
										{
											"type": "script",
											"script": "console.log(\"stopping commands\")\n\nstate.isStopped = true;"
										}
									],
									"sid": 126068633089528
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Button",
									"sid": 352004579785677,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"close-repeat-panel\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "SetCommandPopUpPanel",
									"sid": 776154357304196,
									"parameters": [
										false,
										"\"repeat\""
									]
								}
							],
							"sid": 740414602099381
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Button",
									"sid": 726358006288414,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"close-while-panel\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "SetCommandPopUpPanel",
									"sid": 509803922641876,
									"parameters": [
										false,
										"\"while\""
									]
								}
							],
							"sid": 208902495191513
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Button",
									"sid": 607734510726319,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"close-if-panel\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "SetCommandPopUpPanel",
									"sid": 301552548341139,
									"parameters": [
										false,
										"\"if\""
									]
								}
							],
							"sid": 106824517961951
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Button",
									"sid": 800230354808393,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"close-elif-panel\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "SetCommandPopUpPanel",
									"sid": 756258830569653,
									"parameters": [
										false,
										"\"elif\""
									]
								}
							],
							"sid": 733068504735902
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Button",
									"sid": 693012158227798,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"game-over-home\""
									}
								}
							],
							"actions": [
								{
									"id": "go-to-layout",
									"objectClass": "System",
									"sid": 977373070074876,
									"parameters": {
										"layout": "Menu"
									}
								}
							],
							"sid": 898805136872208
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Button",
									"sid": 232203282264300,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"game-over-next\""
									}
								}
							],
							"actions": [],
							"sid": 258605957485199
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Button",
									"sid": 193521780979629,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"game-over-restart\""
									}
								}
							],
							"actions": [
								{
									"id": "restart-layout",
									"objectClass": "System",
									"sid": 198179371559751
								}
							],
							"sid": 831666814216673
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Button",
									"sid": 872679316886778,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"game-over-ok\""
									}
								},
								{
									"id": "is-visible",
									"objectClass": "Button",
									"sid": 241626197767929
								}
							],
							"actions": [],
							"sid": 554077504684564,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 936660406026150,
											"parameters": {
												"variable": "username",
												"comparison": 0,
												"value": "\"\""
											}
										}
									],
									"actions": [
										{
											"id": "set-active",
											"objectClass": "TextInputName",
											"sid": 499777999045299,
											"behaviorType": "Sine",
											"parameters": {
												"state": "active"
											}
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 690480632989473,
											"parameters": {
												"seconds": "0.25"
											}
										},
										{
											"id": "set-active",
											"objectClass": "TextInputName",
											"sid": 827598280193094,
											"behaviorType": "Sine",
											"parameters": {
												"state": "inactive"
											}
										},
										{
											"id": "set-cycle-position",
											"objectClass": "TextInputName",
											"sid": 458316485480402,
											"behaviorType": "Sine",
											"parameters": {
												"cycle-position": "0"
											}
										}
									],
									"sid": 643789937931812
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 830202969130797
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "UIText",
											"sid": 760243430486299,
											"parameters": {
												"instance-variable": "id",
												"comparison": 0,
												"value": "\"game-over-leaderboard-status\""
											}
										}
									],
									"actions": [
										{
											"id": "set-visible",
											"objectClass": "Button",
											"sid": 696819429900522,
											"parameters": {
												"visibility": "invisible"
											}
										},
										{
											"id": "set-visible",
											"objectClass": "TextInputName",
											"sid": 252103039942010,
											"parameters": {
												"visibility": "invisible"
											}
										},
										{
											"id": "set-visible",
											"objectClass": "UIText",
											"sid": 277675635219678,
											"parameters": {
												"visibility": "visible"
											}
										},
										{
											"id": "set-text",
											"objectClass": "UIText",
											"sid": 405513423358489,
											"parameters": {
												"text": "\"menambahkan...\""
											}
										},
										{
											"id": "set-item",
											"objectClass": "LocalStorage",
											"sid": 247726835065553,
											"parameters": {
												"key": "USERNAME_TAG",
												"value": "username"
											}
										},
										{
											"type": "script",
											"script": "const {\n\tlevel,\n\tusername,\n\tactionCount,\n\tcodeBlockCount,\n\tlevelTimer,\n} = runtime.globalVars;\n\ntry {\n\tconsole.log(await leaderboard.addToLeaderboard(\n\t\tlevel,\n\t\tusername,\n\t\tactionCount,\n\t\tcodeBlockCount,\n\t\tMath.round(levelTimer * 1000, 3),\n\t))\n} catch(error) {\n\truntime.callFunction(\"AddToLeaderboardError\")\n}"
										},
										{
											"id": "wait-for-previous-actions",
											"objectClass": "System",
											"sid": 845445275656187
										},
										{
											"id": "set-text",
											"objectClass": "UIText",
											"sid": 840405252296584,
											"parameters": {
												"text": "\"Berhasil ditambahkan\""
											}
										}
									],
									"sid": 617339742470544
								}
							]
						}
					]
				},
				{
					"functionName": "GetBlockCount",
					"functionCopyPicked": false,
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "number",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"type": "script",
							"script": "runtime.globalVars.codeBlockCount = \n\tgetCodeBlockCount(runtime);\nruntime.setReturnValue(runtime.globalVars.codeBlockCount);"
						}
					],
					"sid": 526036823975888
				},
				{
					"functionName": "GetActionCount",
					"functionCopyPicked": false,
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "number",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"type": "script",
							"script": "runtime.globalVars.actionCount = state.actionCount;\nruntime.setReturnValue(runtime.globalVars.actionCount);"
						}
					],
					"sid": 900680725918566
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-text-changed",
							"objectClass": "TextInputName",
							"sid": 413454620129746
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 914188421270284,
							"parameters": {
								"variable": "username",
								"value": "TextInputName.Text"
							}
						}
					],
					"sid": 781591767916452
				},
				{
					"functionName": "AddToLeaderboardError",
					"functionCopyPicked": false,
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-visible",
							"objectClass": "TextInputName",
							"sid": 688061032974825,
							"parameters": {
								"visibility": "visible"
							}
						},
						{
							"id": "set-active",
							"objectClass": "TextInputName",
							"sid": 135536650348492,
							"behaviorType": "Sine",
							"parameters": {
								"state": "active"
							}
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 949387563176670,
							"parameters": {
								"seconds": "0.25"
							}
						},
						{
							"id": "set-active",
							"objectClass": "TextInputName",
							"sid": 554558033128301,
							"behaviorType": "Sine",
							"parameters": {
								"state": "inactive"
							}
						},
						{
							"id": "set-cycle-position",
							"objectClass": "TextInputName",
							"sid": 659278388427169,
							"behaviorType": "Sine",
							"parameters": {
								"cycle-position": "0"
							}
						}
					],
					"sid": 901093444505180,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "UIText",
									"sid": 685997052453206,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"game-over-leaderboard-status\""
									}
								}
							],
							"actions": [
								{
									"id": "set-visible",
									"objectClass": "UIText",
									"sid": 330126792286263,
									"parameters": {
										"visibility": "invisible"
									}
								}
							],
							"sid": 934440643126036
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Button",
									"sid": 238658217860542,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"game-over-ok\""
									}
								}
							],
							"actions": [
								{
									"id": "set-visible",
									"objectClass": "Button",
									"sid": 207344693689276,
									"parameters": {
										"visibility": "visible"
									}
								}
							],
							"sid": 964854083124326
						}
					]
				},
				{
					"eventType": "variable",
					"name": "FINISHED",
					"type": "number",
					"initialValue": "0",
					"comment": "check code-block-constants.js",
					"isStatic": true,
					"isConstant": true,
					"sid": 937819680652057
				},
				{
					"eventType": "variable",
					"name": "ERROR",
					"type": "number",
					"initialValue": "2",
					"comment": "check code-block-constants.js",
					"isStatic": true,
					"isConstant": true,
					"sid": 168315360186451
				},
				{
					"functionName": "CheckCollisions",
					"functionCopyPicked": false,
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-by-unique-id",
							"objectClass": "Player",
							"sid": 532691019715706,
							"parameters": {
								"unique-id": "currentPlayerUID"
							}
						}
					],
					"actions": [
						{
							"id": "set-function-return-value",
							"objectClass": "Functions",
							"sid": 964088649790328,
							"parameters": {
								"value": "FINISHED"
							}
						}
					],
					"sid": 691736778397864,
					"children": [
						{
							"eventType": "comment",
							"text": "Check if player and portal are in the same grid"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "Player",
									"sid": 915457990106730,
									"parameters": {
										"object": "Portal"
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 936663677959977,
									"parameters": {
										"first-value": "distance(Player.X, Player.Y, Portal.X, Portal.Y)",
										"comparison": 2,
										"second-value": "GRID_SIZE"
									}
								}
							],
							"actions": [
								{
									"type": "script",
									"script": "state.playerCount--;"
								},
								{
									"id": "start-fade",
									"objectClass": "Player",
									"sid": 739694419030219,
									"behaviorType": "Fade"
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "Player",
									"sid": 401135475560399,
									"parameters": {
										"instance-variable": "reachedGoal",
										"value": "true"
									}
								}
							],
							"sid": 107424056995809
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "Player",
									"sid": 888075233183047,
									"parameters": {
										"object": "Damaging"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "Damaging",
									"sid": 680474816655955,
									"parameters": {
										"instance-variable": "active"
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 492129971631727,
									"parameters": {
										"first-value": "distance(Player.X, Player.Y, Damaging.X, Damaging.Y)",
										"comparison": 2,
										"second-value": "GRID_SIZE"
									}
								}
							],
							"actions": [
								{
									"type": "script",
									"script": "if (state.variables.health === undefined) {\n\treturn;\n}\n\nstate.variables.health -= runtime.objects.Damaging\n\t.getFirstPickedInstance().instVars.damage;\n\t\nif (state.variables.health <= 0) {\n\tstate.isError = true;\n}\n"
								}
							],
							"sid": 188760965931083
						}
					]
				},
				{
					"functionName": "OnCommandStart",
					"functionCopyPicked": false,
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 817809198269426,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 492311375565906,
									"parameters": {
										"object": "MovingEnemyCollision"
									}
								}
							],
							"actions": [
								{
									"customAction": "StartMove",
									"objectClass": "MovingEnemyCollision",
									"sid": 655064777094550
								}
							],
							"sid": 437128921014101
						}
					]
				},
				{
					"functionName": "PlayerShoot",
					"functionCopyPicked": false,
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "shootAngle",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 174155479367402
						}
					],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-by-unique-id",
							"objectClass": "Player",
							"sid": 839008688200988,
							"parameters": {
								"unique-id": "currentPlayerUID"
							}
						}
					],
					"actions": [
						{
							"id": "spawn-another-object",
							"objectClass": "Player",
							"sid": 977180601643449,
							"parameters": {
								"object": "Bullet",
								"layer": "\"Game\"",
								"image-point": "0",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-angle-of-motion",
							"objectClass": "Bullet",
							"sid": 910489931083206,
							"behaviorType": "Bullet",
							"parameters": {
								"angle": "shootAngle"
							}
						}
					],
					"sid": 541108730608813
				}
			],
			"sid": 991077192111983
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Debugging Tools",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-touched-object",
							"objectClass": "Touch",
							"sid": 422279165008496,
							"parameters": {
								"object": "CodeBlock"
							}
						}
					],
					"actions": [
						{
							"type": "script",
							"script": "logParent(runtime.objects.CodeBlock.getFirstPickedInstance())"
						}
					],
					"sid": 345871497530323,
					"disabled": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 394566829683985,
							"parameters": {
								"key": 88
							}
						}
					],
					"actions": [
						{
							"id": "set-enabled",
							"objectClass": "CodeBlock",
							"sid": 203838345450058,
							"behaviorType": "DragDrop",
							"parameters": {
								"state": "disabled"
							}
						}
					],
					"sid": 603891997175912,
					"disabled": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 755901173792903,
							"parameters": {
								"key": 90
							}
						}
					],
					"actions": [
						{
							"id": "set-enabled",
							"objectClass": "CodeBlock",
							"sid": 423972542778341,
							"behaviorType": "DragDrop",
							"parameters": {
								"state": "enabled"
							}
						}
					],
					"sid": 103616995341753,
					"disabled": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 332749278380782,
							"parameters": {
								"key": 32
							}
						}
					],
					"actions": [],
					"sid": 927407420144812,
					"disabled": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-dragging",
									"objectClass": "CodeBlock",
									"sid": 886661181028777,
									"behaviorType": "DragDrop"
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "CodeBlockPanel",
									"sid": 105402087033275,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "CodeBlock.panelId"
									}
								},
								{
									"id": "pick-children",
									"objectClass": "CodeBlockPanel",
									"sid": 758918454813809,
									"parameters": {
										"child": "CodeBlockShadow",
										"which": "all"
									}
								}
							],
							"actions": [
								{
									"type": "script",
									"script": "const c =  runtime.objects.CodeBlock.getFirstPickedInstance();\nconsole.log(c.x, c.y);\n\nfor(const d of runtime.objects.CodeBlockShadow.getPickedInstances()) {\n\tconst distance = getSquaredDistance(c, d);\n\tconsole.log(d.uid, d.x, d.y, distance);\n\n}"
								}
							],
							"sid": 185835125033345,
							"disabled": true
						}
					]
				}
			],
			"sid": 371561682910378
		}
	],
	"sid": 808040494368574
}